(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40df351c"],{"16b7":function(t,e,a){},"3a5d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"task-form-wrapper",style:{minHeight:t.minHeight}},[a("van-progress",{staticClass:"van-progress",attrs:{color:"#4982F6","track-color":"#D8D8D8",percentage:100/t.stepList.length*t.nowStep,"pivot-text":t.nowStep+"/"+t.stepList.length}}),a("van-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("van-collapse-item",{attrs:{name:"step1"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[1!==t.nowStep||t.stepList[0].status?a("van-icon",{attrs:{name:t.stepList[0].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("1")]),t._v(" 选择网点 ")],1)]},proxy:!0}])},[t.nowStep>=1?a("Step1",{attrs:{formData:t.formData,nowStep:t.nowStep},on:{updataForm:t.updataForm,updataStatus:t.updataStatus,LoadOldData:t.LoadOldData}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=2,expression:"nowStep >= 2"}],attrs:{name:"step2"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[2!==t.nowStep||t.stepList[1].status?a("van-icon",{attrs:{name:t.stepList[1].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("2")]),t._v(" 同行价格情况 ")],1)]},proxy:!0}])},[t.nowStep>=2?a("Step2",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=3,expression:"nowStep >= 3"}],attrs:{name:"step3"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[3!==t.nowStep||t.stepList[2].status?a("van-icon",{attrs:{name:t.stepList[2].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("3")]),t._v(" 同行稳定情况 ")],1)]},proxy:!0}])},[t.nowStep>=3?a("Step3",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1)],1),t.nowStep<t.stepList.length?a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.nextStep}},[t._v(" 下一步 ")]):a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.submit}},[t._v("提交")]),t.nowStep>1&&t.showCancel?a("div",{staticClass:"cancel__Network",on:{click:t.cancelTaskForm}},[t._v(" 取消巡查 ")]):t._e()],1)},r=[],n=(a("4160"),a("a9e3"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("f499")),i=a.n(n),o=a("795b"),c=a.n(o),p=a("967e"),u=a.n(p),m=(a("96cf"),a("c24c")),l=a("5fab"),d=a("b5d6"),h=a("c1df"),b=a.n(h),f=a("c164"),D=a.n(f),S=a("e6ff"),v=a.n(S),g=a("61c5"),w={components:{Step1:m["a"],Step2:l["a"],Step3:d["a"]},data:function(){return{activeNames:"step1",collapseHeight:58,successIcon:D.a,warningIcon:v.a,isCancel:!1,nowStep:0,stepList:[{label:"选择网点",status:!1},{label:"同行价格情况",status:!0},{label:"同行稳定情况",status:!1}],formData:{latitudeOfCurrentLocation:"",stableYt:"",siteCode:"",inboundAreaPicture:"",stableZto:"",siteName:"",stableSt:"",salaryOnTime:"1",patrolMonth:"",currentLocation:"",outboundAreaPicture:"",sortingAreaPictureFirst:"",stableYd:"",longitudeOfCurrentLocation:"",sortingAreaPictureSecond:"",stableJt:"",unstableRemark:"",id:"",stableBs:"",bestFee:0,jituFee:0,stoFee:0,ytoFee:0,yundaFee:0,ztoFee:0,prices:[],jobCode:"",appJobSiteId:""},sumitedOrCancel:!1,showCancel:!0}},computed:{minHeight:function(){return"calc(100vh + ".concat((this.nowStep-2)*this.collapseHeight,"px)")}},watch:{"$route.query":{handler:function(t){this.init()},deep:!0}},created:function(){this.init()},mounted:function(){},destroyed:function(){},methods:{init:function(){return u.a.async((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$route.query&&this.$route.query.from&&"Details"===this.$route.query.from&&(this.showCancel=!1),!this.$route.query||!this.$route.query.id){t.next=6;break}return t.next=4,u.a.awrap(this.LoadOldData(this.$route.query.id));case 4:t.next=9;break;case 6:this.activeNames="step1",this.nowStep=1,this.formData={latitudeOfCurrentLocation:"",stableYt:"",siteCode:"",inboundAreaPicture:"",stableZto:"",siteName:"",stableSt:"",salaryOnTime:!0,patrolMonth:"",currentLocation:"",outboundAreaPicture:"",sortingAreaPictureFirst:"",stableYd:"",longitudeOfCurrentLocation:"",sortingAreaPictureSecond:"",stableJt:"",unstableRemark:"",id:"",stableBs:"",bestFee:0,jituFee:0,stoFee:0,ytoFee:0,yundaFee:0,ztoFee:0,prices:[],jobCode:"",appJobSiteId:""};case 9:this.$route.query&&this.$route.query.siteCode&&1===this.nowStep&&(this.formData.siteCode=this.$route.query.siteCode,this.formData.jobCode=this.$route.query.jobCode,this.formData.siteName=this.$route.query.siteName,this.formData.jobName=this.$route.query.jobName,this.formData.appJobSiteId=this.$route.query.appJobSiteId);case 10:case"end":return t.stop()}}),null,this,null,c.a)},LoadOldData:function(t){var e,a;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u.a.awrap(Object(g["e"])({id:t}));case 3:e=s.sent,e&&(this.formData=e,this.activeNames="step1",this.nowStep=3,this.formData.stableZto||0===this.formData.stableZto||(this.formData.stableZto=""),this.formData.stableZto||0===this.formData.stableZto&&this.formData.unstableRemark?this.stepList[2].status=!0:(a="",this.formData.stableZto||0===this.formData.stableZto?0!==this.formData.stableZto||this.formData.unstableRemark||(a="请输入中通异常原因"):a="请选择中通实际情况",this.stepList[2].status=!1,this.stepList[2].message=a)),s.next=9;break;case 7:s.prev=7,s.t0=s["catch"](0);case 9:case"end":return s.stop()}}),null,this,[[0,7]],c.a)},nextStep:function(){1===this.nowStep?this.formData.siteCode&&this.formData.currentLocation&&this.formData.latitudeOfCurrentLocation&&this.formData.longitudeOfCurrentLocation&&this.formData.patrolMonth?this.nextStepSave():this.$toast(this.stepList[0].message||"请检查步骤【"+this.stepList[0].label+"】输入内容"):2===this.nowStep&&(this.formData.siteCode?this.nextStepSave():this.$toast("请选择网点"))},nextStepSave:function(){var t,e;return u.a.async((function(a){while(1)switch(a.prev=a.next){case 0:t=JSON.parse(i()(this.formData)),t.id||delete t.id,t.stableZto||0===t.stableZto||delete t.stableZto,t.stableYd||0===t.stableYd||delete t.stableYd,t.stableYt||0===t.stableYt||delete t.stableYt,t.stableSt||0===t.stableSt||delete t.stableSt,t.stableBs||0===t.stableBs||delete t.stableBs,t.stableJt||0===t.stableJt||delete t.stableJt,"number"===typeof t.patrolMonth&&(t.patrolMonth=b()(t.patrolMonth).format("YYYY-MM-DD HH:mm:ss"));try{t.bestFee=Number(t.bestFee),t.jituFee=Number(t.jituFee),t.stoFee=Number(t.stoFee),t.ytoFee=Number(t.ytoFee),t.yundaFee=Number(t.yundaFee),t.ztoFee=Number(t.ztoFee),t.prices.forEach((function(t){t.endingWeight=Number(t.endingWeight),t.priceBs=Number(t.priceBs),t.priceJt=Number(t.priceJt),t.priceSt=Number(t.priceSt),t.priceYd=Number(t.priceYd),t.priceYt=Number(t.priceYt),t.priceZto=Number(t.priceZto),t.startingWeight=Number(t.startingWeight)}))}catch(s){}return a.prev=10,a.next=13,u.a.awrap(Object(g["o"])(t));case 13:e=a.sent,e.success?(this.formData.id=e.id,this.activeNames="step"+(this.nowStep+1),this.nowStep++):this.$toast(e.message),a.next=19;break;case 17:a.prev=17,a.t0=a["catch"](10);case 19:case"end":return a.stop()}}),null,this,[[10,17]],c.a)},submit:function(){var t,e,a=this;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:t=0;case 1:if(!(t<this.stepList.length)){s.next=8;break}if(this.stepList[t].status){s.next=5;break}return this.$toast(this.stepList[t].message||"请检查步骤【"+this.stepList[t].label+"】输入内容"),s.abrupt("return");case 5:t++,s.next=1;break;case 8:e=JSON.parse(i()(this.formData)),e.submitTime=b()(new Date).format("YYYY-MM-DD HH:mm:ss"),e.id||delete e.id,e.stableZto||0===e.stableZto||delete e.stableZto,e.stableYd||0===e.stableYd||delete e.stableYd,e.stableYt||0===e.stableYt||delete e.stableYt,e.stableSt||0===e.stableSt||delete e.stableSt,e.stableBs||0===e.stableBs||delete e.stableBs,e.stableJt||0===e.stableJt||delete e.stableJt,"number"===typeof e.patrolMonth&&(e.patrolMonth=b()(e.patrolMonth).format("YYYY-MM-DD HH:mm:ss"));try{e.bestFee=Number(e.bestFee),e.jituFee=Number(e.jituFee),e.stoFee=Number(e.stoFee),e.ytoFee=Number(e.ytoFee),e.yundaFee=Number(e.yundaFee),e.ztoFee=Number(e.ztoFee),e.prices.forEach((function(t){t.endingWeight=Number(t.endingWeight),t.priceBs=Number(t.priceBs),t.priceJt=Number(t.priceJt),t.priceSt=Number(t.priceSt),t.priceYd=Number(t.priceYd),t.priceYt=Number(t.priceYt),t.priceZto=Number(t.priceZto),t.startingWeight=Number(t.startingWeight)}))}catch(r){}return s.next=21,u.a.awrap(this.$dialog.confirm({title:"",message:"请确认提交的内容是否完整正确？",confirmButtonText:"确认提交",cancelButtonText:"暂不提交",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){var t;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u.a.awrap(Object(g["s"])(e));case 3:if(t=s.sent,t.success){s.next=7;break}return a.$toast(t.message),s.abrupt("return");case 7:a.sumitedOrCancel=!0,a.$toast("提交成功"),a.$router.replace({path:"home",query:{tab:"FieldManagement",sonTab:"patrolRecordDetailsList"}}),s.next=14;break;case 12:s.prev=12,s.t0=s["catch"](0);case 14:case"end":return s.stop()}}),null,null,[[0,12]],c.a)})).catch((function(){})));case 21:case"end":return s.stop()}}),null,this,null,c.a)},updataForm:function(t){this.formData=t},updataStatus:function(t,e,a){this.stepList[t-1].status=e,this.stepList[t-1].message=a},goBack:function(){!this.sumitedOrCancel&&this.formData.siteCode&&(this.autoSave(),localStorage.setItem("".concat(this.formData.siteCode,"-daily"),i()(this.stepList)),localStorage.setItem("".concat(this.formData.siteCode,"-nowStep"),this.nowStep))},autoSave:function(){var t;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.formData.siteCode&&this.formData.currentLocation&&this.formData.latitudeOfCurrentLocation&&this.formData.longitudeOfCurrentLocation&&this.formData.patrolMonth)){e.next=18;break}t=JSON.parse(i()(this.formData)),"number"===typeof t.patrolMonth&&(t.patrolMonth=b()(t.patrolMonth).format("YYYY-MM-DD HH:mm:ss")),t.id||delete t.id,t.stableZto||0===t.stableZto||delete t.stableZto,t.stableYd||0===t.stableYd||delete t.stableYd,t.stableYt||0===t.stableYt||delete t.stableYt,t.stableSt||0===t.stableSt||delete t.stableSt,t.stableBs||0===t.stableBs||delete t.stableBs,t.stableJt||0===t.stableJt||delete t.stableJt;try{t.bestFee=Number(t.bestFee),t.jituFee=Number(t.jituFee),t.stoFee=Number(t.stoFee),t.ytoFee=Number(t.ytoFee),t.yundaFee=Number(t.yundaFee),t.ztoFee=Number(t.ztoFee),t.prices.forEach((function(t){t.endingWeight=Number(t.endingWeight),t.priceBs=Number(t.priceBs),t.priceJt=Number(t.priceJt),t.priceSt=Number(t.priceSt),t.priceYd=Number(t.priceYd),t.priceYt=Number(t.priceYt),t.priceZto=Number(t.priceZto),t.startingWeight=Number(t.startingWeight)}))}catch(a){}return e.prev=11,e.next=14,u.a.awrap(Object(g["o"])(t));case 14:e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](11);case 18:case"end":return e.stop()}}),null,this,[[11,16]],c.a)},cancelTaskForm:function(){var t=this;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(this.$dialog.confirm({title:"",message:"您确定要取消吗？取消后本次巡店信息将不会保存",confirmButtonText:"确认取消",cancelButtonText:"暂不取消",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){var e;return u.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return e={id:t.formData.id,type:1},a.prev=1,a.next=4,u.a.awrap(Object(g["a"])(e));case 4:t.sumitedOrCancel=!0,t.$toast("取消成功"),t.$router.back(),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:case"end":return a.stop()}}),null,null,[[1,9]],c.a)})).catch((function(){})));case 2:case"end":return e.stop()}}),null,this,null,c.a)}},beforeRouteLeave:function(t,e,a){sessionStorage.clear(),a()}},F=w,C=(a("fdb7"),a("2877")),x=Object(C["a"])(F,s,r,!1,null,"5839c3c4",null);e["a"]=x.exports},"4d86":function(t,e,a){"use strict";var s=a("625a"),r=a.n(s);r.a},"534c":function(t,e,a){"use strict";var s=a("c1df"),r=a.n(s);e["a"]={filters:{FORMAT_YEAR_M:function(t){return t?r()(t).format("YYYY-MM-DD HH:mm:ss"):t},FORMAT_YEAR_M_D:function(t){return t?r()(t).format("YYYY-MM-DD"):t}},data:function(){return{optionOther:[{text:"全部",value:0},{text:"待处理",value:1},{text:"进行中",value:2},{text:"已完成",value:3}],ifOverdue:[{text:"全部",value:0},{text:"未逾期",value:1},{text:"即将逾期",value:2},{text:"已逾期",value:3}],emergencyOption:[{text:"全部",value:-1},{text:"非常紧急",value:0},{text:"紧急",value:1},{text:"普通",value:2},{text:"较低",value:3}]}},computed:{}}},"5a01":function(t,e,a){"use strict";var s=a("7cd3"),r=a.n(s);r.a},"61c5":function(t,e,a){"use strict";a.d(e,"g",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"h",(function(){return o})),a.d(e,"a",(function(){return c})),a.d(e,"i",(function(){return p})),a.d(e,"l",(function(){return u})),a.d(e,"t",(function(){return m})),a.d(e,"m",(function(){return l})),a.d(e,"d",(function(){return d})),a.d(e,"f",(function(){return h})),a.d(e,"e",(function(){return b})),a.d(e,"o",(function(){return f})),a.d(e,"s",(function(){return D})),a.d(e,"c",(function(){return S})),a.d(e,"b",(function(){return v})),a.d(e,"n",(function(){return g})),a.d(e,"r",(function(){return w})),a.d(e,"k",(function(){return F})),a.d(e,"p",(function(){return C})),a.d(e,"u",(function(){return x})),a.d(e,"q",(function(){return N}));var s=a("51be"),r=a("b775");function n(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/getBaseOrganizeInfoByCode"),method:"POST",data:t,isErrorMsgPop:!0})}function i(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/queryMobileAppViewList"),method:"POST",data:t,isErrorMsgPop:!0})}function o(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/queryBaseData"),method:"POST",data:t,isErrorMsgPop:!0})}function c(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/cancel"),method:"POST",data:t,isErrorMsgPop:!0})}function p(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/queryMobileAbnormal"),method:"POST",data:t,isErrorMsgPop:!0})}function u(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/saveOrUpdateAbnormal"),method:"POST",data:t,isErrorMsgPop:!0})}function m(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/submitDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function l(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/saveOrUpdateAbnormalDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function d(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/checkAbnormalDetailUnique"),method:"POST",data:t,isErrorMsgPop:!0})}function h(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/dailypatrol/dataForSameMonthExists"),method:"POST",data:t,isErrorMsgPop:!0})}function b(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/dailypatrol/dailyPatrolDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function f(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/dailypatrol/saveOrUpdateDailyPatrolDraft"),method:"POST",data:t,isErrorMsgPop:!0})}function D(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/dailypatrol/submitDailyPatrol"),method:"POST",data:t,isErrorMsgPop:!0})}function S(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/capacitypatrol/dataForSameMonthExists"),method:"POST",data:t,isErrorMsgPop:!0})}function v(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/capacitypatrol/capacityPatrolDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function g(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/capacitypatrol/saveOrUpdateCapacityPatrolDraft"),method:"POST",data:t,isErrorMsgPop:!0})}function w(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/capacitypatrol/submitCapacityPatrol"),method:"POST",data:t,isErrorMsgPop:!0})}function F(t){return Object(r["a"])({url:"".concat(s["a"],"/outwork/querySignData"),method:"POST",data:t,isErrorMsgPop:!0})}function C(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/siteImage/saveOrUpdateDraft"),method:"POST",data:t,isErrorMsgPop:!0})}function x(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/siteImage/submit"),method:"POST",data:t,isErrorMsgPop:!0})}function N(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/siteImage/detail"),method:"POST",data:t,isErrorMsgPop:!0})}},"625a":function(t,e,a){},"779b":function(t,e,a){},"7cd3":function(t,e,a){},"81ca":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"task-form-wrapper",style:{minHeight:t.minHeight}},[a("van-progress",{staticClass:"van-progress",attrs:{color:"#4982F6","track-color":"#D8D8D8",percentage:100/t.stepList.length*t.nowStep,"pivot-text":t.nowStep+"/"+t.stepList.length}}),a("van-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("van-collapse-item",{attrs:{name:"step1"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[1!==t.nowStep||t.stepList[0].status?a("van-icon",{attrs:{name:t.stepList[0].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("1")]),t._v(" 选择网点 ")],1)]},proxy:!0}])},[t.nowStep>=1?a("Step1",{attrs:{formData:t.formData,nowStep:t.nowStep},on:{updataForm:t.updataForm,updataStatus:t.updataStatus,LoadOldData:t.LoadOldData}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=2,expression:"nowStep >= 2"}],attrs:{name:"step2"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[2!==t.nowStep||t.stepList[1].status?a("van-icon",{attrs:{name:t.stepList[1].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("2")]),t._v(" 运营模式 ")],1)]},proxy:!0}])},[t.nowStep>=2?a("Step2",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=3,expression:"nowStep >= 3"}],attrs:{name:"step3"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[3!==t.nowStep||t.stepList[2].status?a("van-icon",{attrs:{name:t.stepList[2].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("3")]),t._v(" 人车场地 ")],1)]},proxy:!0}])},[t.nowStep>=3?a("Step3",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=4,expression:"nowStep >= 4"}],attrs:{name:"step4"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[4!==t.nowStep||t.stepList[3].status?a("van-icon",{attrs:{name:t.stepList[3].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("4")]),t._v(" 旺季准备 ")],1)]},proxy:!0}])},[t.nowStep>=4?a("Step4",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1)],1),t.nowStep<t.stepList.length?a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.nextStep}},[t._v(" 下一步 ")]):a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.submit}},[t._v("提交")]),t.nowStep>1&&t.showCancel?a("div",{staticClass:"cancel__Network",on:{click:t.cancelTaskForm}},[t._v(" 取消巡查 ")]):t._e()],1)},r=[],n=(a("4160"),a("a9e3"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("f499")),i=a.n(n),o=a("795b"),c=a.n(o),p=a("967e"),u=a.n(p),m=(a("96cf"),a("5176")),l=a.n(m),d=a("92bc"),h=a("554c"),b=a("ab06"),f=a("894b"),D=a("c164"),S=a.n(D),v=a("e6ff"),g=a.n(v),w=a("c1df"),F=a.n(w),C=a("61c5"),x={components:{Step1:d["a"],Step2:h["a"],Step3:b["a"],Step4:f["a"]},data:function(){return{showCancel:!0,activeNames:"step1",collapseHeight:58,successIcon:S.a,warningIcon:g.a,isCancel:!1,nowStep:0,stepList:[{label:"选择网点",status:!1},{label:"运营模式",status:!1},{label:"人车场地",status:!1},{label:"旺季准备",status:!1}],formData:{}}},computed:{minHeight:function(){return"calc(100vh + ".concat((this.nowStep-2)*this.collapseHeight,"px)")}},watch:{"$route.query":{handler:function(t){this.init()},deep:!0}},mounted:function(){l()(this.$data,this.$options.data()),this.init()},destroyed:function(){},methods:{init:function(){return u.a.async((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$route.query&&this.$route.query.from&&"Details"===this.$route.query.from&&(this.showCancel=!1),!this.$route.query||!this.$route.query.id){t.next=6;break}return t.next=4,u.a.awrap(this.LoadOldData(this.$route.query.id));case 4:t.next=10;break;case 6:this.activeNames="step1",this.nowStep=1,this.stepList=[{label:"选择网点",status:!1},{label:"运营模式",status:!1},{label:"人车场地",status:!1},{label:"旺季准备",status:!1}],this.formData={id:"",siteCode:"",siteName:"",currentLocation:"",longitudeOfCurrentLocation:"",latitudeOfCurrentLocation:"",patrolMonth:"",inboundAreaPicture:"",sortingAreaPictureFirst:"",sortingAreaPictureSecond:"",outboundAreaPicture:"",dailyIncomingNumber:0,dailyOutNumber:0,maxDispatchNumber:0,productionCapacitySatisfied:!0,inboundSortingMode:"",inboundProductionCapacity:0,inboundOperatingTime:"",outboundSortingMode:"",outboundProductionCapacity:0,outboundOperatingTime:"",buildPackageMode:"",salesmenNumber:0,operatorsNumber:0,driverNumber:0,customerServiceNumber:0,temporaryDispatchNumber:0,fourPointTwoCarNumber:0,ninePointSixCarNumber:0,sevenPointSixCarNumber:0,trailerCarNumber:0,twoWheelerNumber:0,tricycleNumber:0,ownCarNumber:0,rentalCarNumber:0,otherCarNumber:"",selfStoreNumber:0,cooperationStoreNumber:0,selfCourierCabinetNumber:0,cooperationCourierCabinetNumber:0,selfStoreMaxReceiveNumber:0,selfCourierCabinetMaxReceiveNumber:0,deliveryOtherProportion:0,usableTemporaryNumber:0,usableCarNumber:0,usableSiteArea:0,usableStoreNumber:0,usableCourierCabinetNumber:0,capacityPatrolSiteItemList:[],jobCode:"",appJobSiteId:""};case 10:this.$route.query&&this.$route.query.siteCode&&1===this.nowStep&&(this.formData.siteCode=this.$route.query.siteCode,this.formData.jobCode=this.$route.query.jobCode,this.formData.siteName=this.$route.query.siteName,this.formData.jobName=this.$route.query.jobName,this.formData.appJobSiteId=this.$route.query.appJobSiteId);case 11:case"end":return t.stop()}}),null,this,null,c.a)},LoadOldData:function(t){var e,a,s,r,n,i,o;return u.a.async((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,u.a.awrap(Object(C["b"])({id:t}));case 3:if(e=c.sent,!e){c.next=29;break}if(this.formData=e,this.activeNames="step1",this.nowStep=4,this.formData.siteCode&&this.formData.currentLocation&&this.formData.latitudeOfCurrentLocation&&this.formData.longitudeOfCurrentLocation&&this.formData.patrolMonth?this.stepList[0].status=!0:(a="",this.formData.patrolMonth?this.formData.siteCode?this.formData.currentLocation?this.formData.inboundAreaPicture?this.formData.sortingAreaPictureFirst&&this.formData.sortingAreaPictureSecond?this.formData.outboundAreaPicture||(a="请上传出港区域图片"):a="请上传分拣区域图片":a="请上传进港区域图片":a="未定位当前地址，请定位后再操作":a="请选择巡查网点":a="请选择巡查月份",this.stepList[0].status=!1,this.stepList[0].message=a),this.formData.inboundSortingMode&&this.formData.outboundSortingMode&&this.formData.buildPackageMode&&this.formData.inboundOperatingTime&&this.formData.outboundOperatingTime?this.stepList[1].status=!0:(s="",this.formData.inboundSortingMode?this.formData.inboundOperatingTime?this.formData.outboundSortingMode?this.formData.outboundOperatingTime?this.formData.buildPackageMode||(s="请选择建包模式"):s="请选择出港操作清仓时间":s="请选择出港分拣模式":s="请选择进港操作清仓时间":s="请选择进港分拣模式",this.stepList[1].status=!1,this.stepList[1].message=s),this.formData.currentSiteConditions||0===this.formData.currentSiteConditions||(this.formData.currentSiteConditions=""),!(this.formData.capacityPatrolSiteItemList&&this.formData.capacityPatrolSiteItemList.length>0)){c.next=28;break}r=!0,n="",i=0;case 15:if(!(i<this.formData.capacityPatrolSiteItemList.length)){c.next=26;break}if(o=this.formData.capacityPatrolSiteItemList[i],!(""!==o.currentSiteConditions&&(0===o.currentSiteConditions||0!==o.currentSiteConditions&&o.estimatedRecoveryTime)&&(o.sitePurpose||0===o.sitePurpose)&&Number(o.siteArea)>=1&&("0"===o.siteOwner||"1"===o.siteOwner&&Number(o.siteRent)>=1&&Number(o.siteLeaseTerm)>=1))){c.next=20;break}c.next=23;break;case 20:return""===o.currentSiteConditions?n="请选择目前场地情况":0===o.currentSiteConditions||o.estimatedRecoveryTime?""===o.sitePurpose?n="请选择场地用途":Number(o.siteArea)?!Number(o.siteArea)<1?n="场地面积必须大于等于1":"1"!==o.siteOwner||Number(o.siteRent)?"1"===o.siteOwner&&Number(o.siteRent)<1?n="场地租金必须大于等于1":"1"!==o.siteOwner||Number(o.siteLeaseTerm)?"1"===o.siteOwner&&Number(o.siteLeaseTerm)<1&&(n="租期时间必须大于等于1"):n="请输入租期时间":n="请输入场地租金":n="请输入场地面积":n="请选择预计恢复时间",r=!1,c.abrupt("break",26);case 23:i++,c.next=15;break;case 26:this.stepList[2].status=r,this.stepList[2].message=n;case 28:this.stepList[3].status=!0;case 29:c.next=34;break;case 31:c.prev=31,c.t0=c["catch"](0),this.$router.back();case 34:case"end":return c.stop()}}),null,this,[[0,31]],c.a)},nextStep:function(){1===this.nowStep?this.formData.siteCode&&this.formData.currentLocation&&this.formData.latitudeOfCurrentLocation&&this.formData.longitudeOfCurrentLocation&&this.formData.patrolMonth?this.nextStepSave():this.$toast(this.stepList[0].message||"请检查步骤【"+this.stepList[0].label+"】输入内容"):(2===this.nowStep||3===this.nowStep)&&(this.formData.siteCode?this.nextStepSave():this.$toast("请选择网点"))},nextStepSave:function(){var t,e;return u.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=JSON.parse(i()(this.formData)),t=this.delData(t),a.prev=2,a.next=5,u.a.awrap(Object(C["n"])(t));case 5:e=a.sent,e.success?(this.formData.id=e.id,this.activeNames="step"+(this.nowStep+1),this.nowStep++):this.$toast(e.message),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](2);case 11:case"end":return a.stop()}}),null,this,[[2,9]],c.a)},delData:function(t){t.submitTime=F()(new Date).format("YYYY-MM-DD HH:mm:ss"),t.id||delete t.id,t.estimatedRecoveryTime||delete t.estimatedRecoveryTime,"number"===typeof t.patrolMonth&&(t.patrolMonth=F()(t.patrolMonth).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof t.estimatedRecoveryTime&&(t.estimatedRecoveryTime=F()(t.estimatedRecoveryTime).format("YYYY-MM-DD HH:mm:ss"));try{t.cooperationCourierCabinetNumber=Number(t.cooperationCourierCabinetNumber)||0,t.cooperationStoreNumber=Number(t.cooperationStoreNumber)||0,t.dailyIncomingNumber=Number(t.dailyIncomingNumber)||0,t.dailyOutNumber=Number(t.dailyOutNumber)||0,t.deliveryOtherProportion=Number(t.deliveryOtherProportion)||0,t.driverNumber=Number(t.driverNumber)||0,t.inboundProductionCapacity=Number(t.inboundProductionCapacity)||0,t.maxDispatchNumber=Number(t.maxDispatchNumber)||0,t.ninePointSixCarNumber=Number(t.ninePointSixCarNumber)||0,t.operatorsNumber=Number(t.operatorsNumber)||0,t.otherCarNumber=Number(t.otherCarNumber)||0,t.outboundProductionCapacity=Number(t.outboundProductionCapacity)||0,t.selfCourierCabinetNumber=Number(t.selfCourierCabinetNumber)||0,t.selfStoreNumber=Number(t.selfStoreNumber)||0,t.tricycleNumber=Number(t.tricycleNumber)||0,t.usableTemporaryNumber=Number(t.usableTemporaryNumber)||0,t.usableCarNumber=Number(t.usableCarNumber)||0,t.usableSiteArea=Number(t.usableSiteArea)||0,t.usableStoreNumber=Number(t.usableStoreNumber)||0,t.usableCourierCabinetNumber=Number(t.usableCourierCabinetNumber)||0,t.capacityPatrolSiteItemList.forEach((function(t){""===t.currentSiteConditions?delete t.currentSiteConditions:t.currentSiteConditions=Number(t.currentSiteConditions),""===t.siteRent?delete t.siteRent:t.siteRent=Number(t.siteRent),""===t.siteLeaseTerm?delete t.siteLeaseTerm:t.siteLeaseTerm=Number(t.siteLeaseTerm),""===t.siteArea?delete t.siteArea:t.siteArea=Number(t.siteArea),""===t.loadingNumber?delete t.loadingNumber:t.loadingNumber=Number(t.loadingNumber),""===t.unloadingNumber?delete t.unloadingNumber:t.unloadingNumber=Number(t.unloadingNumber),""===t.sitePurpose?delete t.sitePurpose:t.sitePurpose=Number(t.sitePurpose),""===t.siteNature?delete t.siteNature:t.siteNature=Number(t.siteNature)}))}catch(e){}return t},submit:function(){var t,e,a=this;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:t=0;case 1:if(!(t<this.stepList.length)){s.next=8;break}if(this.stepList[t].status){s.next=5;break}return this.$toast(this.stepList[t].message||"请检查步骤【"+this.stepList[t].label+"】输入内容"),s.abrupt("return");case 5:t++,s.next=1;break;case 8:return e=JSON.parse(i()(this.formData)),e=this.delData(e),s.next=12,u.a.awrap(this.$dialog.confirm({title:"",message:"请确认提交的内容是否完整正确？",confirmButtonText:"确认提交",cancelButtonText:"暂不提交",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){var t;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u.a.awrap(Object(C["r"])(e));case 3:if(t=s.sent,t.success){s.next=7;break}return a.$toast(t.message),s.abrupt("return");case 7:a.sumitedOrCancel=!0,a.$toast("提交成功"),a.$router.replace({path:"home",query:{tab:"FieldManagement",sonTab:"patrolRecordDetailsList"}}),s.next=14;break;case 12:s.prev=12,s.t0=s["catch"](0);case 14:case"end":return s.stop()}}),null,null,[[0,12]],c.a)})).catch((function(){})));case 12:case"end":return s.stop()}}),null,this,null,c.a)},updataForm:function(t){this.formData=t},updataStatus:function(t,e,a){this.stepList[t-1].status=e,this.stepList[t-1].message=a},goBack:function(){!this.sumitedOrCancel&&this.formData.siteCode&&(this.autoSave(),localStorage.setItem("".concat(this.formData.siteCode,"-capacity"),i()(this.stepList)),localStorage.setItem("".concat(this.formData.siteCode,"-nowStep"),this.nowStep))},autoSave:function(){var t;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.formData.siteCode&&this.formData.currentLocation&&this.formData.latitudeOfCurrentLocation&&this.formData.longitudeOfCurrentLocation&&this.formData.patrolMonth)){e.next=10;break}return t=JSON.parse(i()(this.formData)),t=this.delData(t),e.prev=3,e.next=6,u.a.awrap(Object(C["n"])(t));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](3);case 10:case"end":return e.stop()}}),null,this,[[3,8]],c.a)},cancelTaskForm:function(){var t=this;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(this.$dialog.confirm({title:"",message:"您确定要取消吗？取消后本次巡店信息将不会保存",confirmButtonText:"确认取消",cancelButtonText:"暂不取消",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){var e;return u.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return e={id:t.formData.id,type:2},a.prev=1,a.next=4,u.a.awrap(Object(C["a"])(e));case 4:t.sumitedOrCancel=!0,t.$toast("取消成功"),t.$router.back(),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:case"end":return a.stop()}}),null,null,[[1,9]],c.a)})).catch((function(){})));case 2:case"end":return e.stop()}}),null,this,null,c.a)}},beforeRouteLeave:function(t,e,a){sessionStorage.clear(),a()}},N=x,O=(a("c270"),a("2877")),y=Object(O["a"])(N,s,r,!1,null,"43df627e",null);e["a"]=y.exports},b8ee:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"task-form-wrapper",style:{minHeight:t.minHeight}},[a("van-progress",{staticClass:"van-progress",attrs:{color:"#4982F6","track-color":"#D8D8D8",percentage:100/t.stepList.length*t.nowStep,"pivot-text":t.nowStep+"/"+t.stepList.length}}),a("van-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("van-collapse-item",{attrs:{name:"step1","lazy-render":!1},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[1!==t.nowStep||t.stepList[0].status?a("van-icon",{attrs:{name:t.stepList[0].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("1")]),t._v(" 选择网点 ")],1)]},proxy:!0}])},[t.nowStep>=1?a("Step1",{attrs:{formData:t.formData,nowStep:t.nowStep},on:{updataForm:t.updataForm,updataStatus:t.updataStatus,LoadOldData:t.LoadOldData},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=2,expression:"nowStep >= 2"}],attrs:{name:"step2","lazy-render":!1},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[2!==t.nowStep||t.stepList[1].status?a("van-icon",{attrs:{name:t.stepList[1].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("2")]),t._v(" 门头/门面形象 ")],1)]},proxy:!0}])},[t.nowStep>=2?a("Step2",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=3,expression:"nowStep >= 3"}],attrs:{name:"step3"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[3!==t.nowStep||t.stepList[2].status?a("van-icon",{attrs:{name:t.stepList[2].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("3")]),t._v(" 场地形象 ")],1)]},proxy:!0}])},[t.nowStep>=3?a("Step3",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=4,expression:"nowStep >= 4"}],attrs:{name:"step4"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[4!==t.nowStep||t.stepList[3].status?a("van-icon",{attrs:{name:t.stepList[3].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("4")]),t._v(" 车辆形象 ")],1)]},proxy:!0}])},[t.nowStep>=4?a("Step4",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=5,expression:"nowStep >= 5"}],attrs:{name:"step5"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[5!==t.nowStep||t.stepList[4].status?a("van-icon",{attrs:{name:t.stepList[4].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("5")]),t._v(" 工服形象 ")],1)]},proxy:!0}])},[t.nowStep>=5?a("Step5",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=6,expression:"nowStep >= 6"}],attrs:{name:"step6"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[6!==t.nowStep||t.stepList[5].status?a("van-icon",{attrs:{name:t.stepList[5].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("6")]),t._v(" 上传图片(每项至少1张，最多5张) ")],1)]},proxy:!0}])},[t.nowStep>=6?a("Step6",{attrs:{formData:t.formData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}):t._e()],1)],1),t.nowStep<t.stepList.length?a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.nextStep}},[t._v(" 下一步 ")]):a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.submit}},[t._v("提交")]),t.nowStep>1&&t.showCancel?a("div",{staticClass:"cancel__Network",on:{click:t.cancelTaskForm}},[t._v(" 取消巡查 ")]):t._e()],1)},r=[],n=(a("d3b7"),a("ac1f"),a("5319"),a("f499")),i=a.n(n),o=a("795b"),c=a.n(o),p=a("967e"),u=a.n(p),m=a("5176"),l=a.n(m),d=(a("96cf"),a("74fe")),h=a("f092"),b=a("e4d0"),f=a("130a"),D=a("010d"),S=a("a3e4"),v=a("c1df"),g=a.n(v),w=a("c164"),F=a.n(w),C=a("e6ff"),x=a.n(C),N=a("61c5"),O={components:{Step1:d["a"],Step2:h["a"],Step3:b["a"],Step4:f["a"],Step5:D["a"],Step6:S["a"]},data:function(){return{activeNames:"step1",collapseHeight:58,successIcon:F.a,warningIcon:x.a,isCancel:!1,nowStep:0,stepList:[{label:"选择网点",status:!1},{label:"门头/门面形象",status:!0},{label:"场地形象",status:!0},{label:"车辆形象",status:!0},{label:"工服形象",status:!0},{label:"上传图片(每项至少1张，最多5张)",status:!1}],formData:{id:"",siteCode:"",siteName:"",secondCategory:0,manageAreaCode:"",manageAreaName:"",centerCode:"",centerName:"",secondManageAreaCode:"",secondManageAreaName:"",currentLocation:"",longitudeOfCurrentLocation:"",latitudeOfCurrentLocation:"",patrolMonth:"",hasLogo:1,hasLightBox:1,logoAndLightBoxClean:1,operatingPlaceHasCigaretteButts:1,operatingPlaceEvnStandardsCompliant:"",operatingPlaceFacilityStandardsCompliant:"",operatingPlaceExceptionHandlingStandardsCompliant:"",operatingPlaceStickerStandardsCompliant:"",operatingPlaceSafetyMeasuresStandardsCompliant:"",officeAreaClean:1,canteenAreaClean:1,toiletAreaClean:1,carImage:"",nonCarImage:"",uniformWear:1,uniformClean:1,imgDoorHead:"",imgImgLight:"",imgInboundArea:"",imgOutboundArea:"",imgSortingArea:"",imgOfficeArea:"",imgCar:"",imgNonCar:"",imgUniform:"",jobCode:"",appJobSiteId:"",remark:""},sumitedOrCancel:!1,showCancel:!0}},computed:{minHeight:function(){return"calc(100vh + ".concat((this.nowStep-2)*this.collapseHeight,"px)")}},watch:{"$route.query":{handler:function(t){this.init()},deep:!0},formData:{immediate:!0,handler:function(t,e){},deep:!0}},created:function(){this.init()},mounted:function(){},destroyed:function(){},methods:{init:function(){return u.a.async((function(t){while(1)switch(t.prev=t.next){case 0:if(l()(this.$data,this.$options.data()),this.$route.query&&this.$route.query.from&&"Details"===this.$route.query.from&&(this.showCancel=!1),!this.$route.query||!this.$route.query.id){t.next=7;break}return t.next=5,u.a.awrap(this.LoadOldData(this.$route.query.id));case 5:t.next=10;break;case 7:this.activeNames="step1",this.nowStep=1,this.formData={id:"",siteCode:"",siteName:"",secondCategory:0,manageAreaCode:"",manageAreaName:"",centerCode:"",centerName:"",secondManageAreaCode:"",secondManageAreaName:"",currentLocation:"",longitudeOfCurrentLocation:"",latitudeOfCurrentLocation:"",patrolMonth:"",hasLogo:"",hasLightBox:"",logoAndLightBoxClean:"",operatingPlaceHasCigaretteButts:"",operatingPlaceEvnStandardsCompliant:"",operatingPlaceFacilityStandardsCompliant:"",operatingPlaceExceptionHandlingStandardsCompliant:"",operatingPlaceStickerStandardsCompliant:"",operatingPlaceSafetyMeasuresStandardsCompliant:"",officeAreaClean:"",canteenAreaClean:"",toiletAreaClean:"",carImage:"",nonCarImage:"",uniformWear:"",uniformClean:"",imgDoorHead:"",imgImgLight:"",imgInboundArea:"",imgOutboundArea:"",imgSortingArea:"",imgOfficeArea:"",imgCar:"",imgNonCar:"",imgUniform:"",jobCode:"",appJobSiteId:"",remark:""};case 10:this.$route.query&&this.$route.query.siteCode&&1===this.nowStep&&(this.formData.siteCode=this.$route.query.siteCode,this.formData.jobCode=this.$route.query.jobCode,this.formData.siteName=this.$route.query.siteName,this.formData.jobName=this.$route.query.jobName,this.formData.appJobSiteId=this.$route.query.appJobSiteId);case 11:case"end":return t.stop()}}),null,this,null,c.a)},LoadOldData:function(t){var e,a,s=this;return u.a.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(Object(N["q"])({id:t}));case 3:if(e=r.sent,e){for(a in e)""!==e[a]&&void 0!==e[a]&&null!==e[a]||(e[a]="");this.formData=JSON.parse(i()(e)),this.nowStep=6,setTimeout((function(){s.activeNames="step6"}),10),setTimeout((function(){s.activeNames="step5"}),10),setTimeout((function(){s.activeNames="step4"}),10),setTimeout((function(){s.activeNames="step3"}),10),setTimeout((function(){s.activeNames="step2"}),10),setTimeout((function(){s.activeNames="step1"}),10)}r.next=9;break;case 7:r.prev=7,r.t0=r["catch"](0);case 9:case"end":return r.stop()}}),null,this,[[0,7]],c.a)},nextStep:function(){1===this.nowStep?this.formData.siteCode&&this.formData.currentLocation&&this.formData.latitudeOfCurrentLocation&&this.formData.longitudeOfCurrentLocation&&this.formData.patrolMonth?this.nextStepSave():this.$toast(this.stepList[0].message||"请检查步骤【"+this.stepList[0].label+"】输入内容"):(2===this.nowStep||3===this.nowStep||4===this.nowStep||5===this.nowStep||6===this.nowStep)&&(this.formData.siteCode?this.nextStepSave():this.$toast("请选择网点"))},nextStepSave:function(){var t,e,a;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:for(e in t=JSON.parse(i()(this.formData)),t.id||delete t.id,"number"===typeof t.patrolMonth&&(t.patrolMonth=g()(t.patrolMonth).format("YYYY-MM-DD HH:mm:ss")),t)""!==t[e]&&void 0!==t[e]&&null!==t[e]||delete t[e];return s.prev=4,s.next=7,u.a.awrap(Object(N["p"])(t));case 7:a=s.sent,a.success?(this.formData.id=a.id,this.activeNames="step"+(this.nowStep+1),this.nowStep++):this.$toast(a.message),s.next=13;break;case 11:s.prev=11,s.t0=s["catch"](4);case 13:case"end":return s.stop()}}),null,this,[[4,11]],c.a)},submit:function(){var t,e,a=this;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:t=0;case 1:if(!(t<this.stepList.length)){s.next=8;break}if(this.stepList[t].status){s.next=5;break}return this.$toast(this.stepList[t].message||"请检查步骤【"+this.stepList[t].label+"】输入内容"),s.abrupt("return");case 5:t++,s.next=1;break;case 8:return e=JSON.parse(i()(this.formData)),e.submitTime=g()(new Date).format("YYYY-MM-DD HH:mm:ss"),e.id||delete e.id,"number"===typeof e.patrolMonth&&(e.patrolMonth=g()(e.patrolMonth).format("YYYY-MM-DD HH:mm:ss")),s.next=14,u.a.awrap(this.$dialog.confirm({title:"",message:"请确认提交的内容是否完整正确？",confirmButtonText:"确认提交",cancelButtonText:"暂不提交",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){var t;return u.a.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u.a.awrap(Object(N["u"])(e));case 3:if(t=s.sent,t.success){s.next=7;break}return a.$toast(t.message),s.abrupt("return");case 7:a.sumitedOrCancel=!0,a.$toast("提交成功"),a.$router.replace({path:"home",query:{tab:"FieldManagement",sonTab:"patrolRecordDetailsList"}}),s.next=14;break;case 12:s.prev=12,s.t0=s["catch"](0);case 14:case"end":return s.stop()}}),null,null,[[0,12]],c.a)})).catch((function(){})));case 14:case"end":return s.stop()}}),null,this,null,c.a)},updataForm:function(t){this.formData=t},updataStatus:function(t,e,a){this.stepList[t-1].status=e,this.stepList[t-1].message=a},goBack:function(){!this.sumitedOrCancel&&this.formData.siteCode&&(this.autoSave(),localStorage.setItem("".concat(this.formData.siteCode,"-daily"),i()(this.stepList)),localStorage.setItem("".concat(this.formData.siteCode,"-nowStep"),this.nowStep))},autoSave:function(){var t;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.formData.siteCode&&this.formData.currentLocation&&this.formData.latitudeOfCurrentLocation&&this.formData.longitudeOfCurrentLocation&&this.formData.patrolMonth)){e.next=11;break}return t=JSON.parse(i()(this.formData)),"number"===typeof t.patrolMonth&&(t.patrolMonth=g()(t.patrolMonth).format("YYYY-MM-DD HH:mm:ss")),t.id||delete t.id,e.prev=4,e.next=7,u.a.awrap(Object(N["p"])(t));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),null,this,[[4,9]],c.a)},cancelTaskForm:function(){var t=this;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(this.$dialog.confirm({title:"",message:"您确定要取消吗？取消后本次巡店信息将不会保存",confirmButtonText:"确认取消",cancelButtonText:"暂不取消",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){var e;return u.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return e={id:t.formData.id,type:3},a.prev=1,a.next=4,u.a.awrap(Object(N["a"])(e));case 4:t.sumitedOrCancel=!0,t.$toast("取消成功"),t.$router.back(),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:case"end":return a.stop()}}),null,null,[[1,9]],c.a)})).catch((function(){})));case 2:case"end":return e.stop()}}),null,this,null,c.a)}},beforeRouteLeave:function(t,e,a){sessionStorage.clear(),a()}},y=O,L=(a("4d86"),a("2877")),T=Object(L["a"])(y,s,r,!1,null,"019614a3",null);e["a"]=T.exports},c164:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAHGElEQVR4XuVbW4wTZRT+zt+W1QAqipd2F1CDkKCoUTTRXXZ3KpiYGE28Pawx3olkpwuIwgNR3MSYiCKXdhPlAUkMmKhg1BiNaKddlgcDRqNCBI03aBtu8bIYgbb/MTPYtTvdtjPTmW5xN9mnnvOdc77/es6cn+Dx3/T+yIUnctwuwVcCNJMJMwCeTEwTAej/+t8gEw8CdJQY+wHeJ0B7zvJT/w/t0SNeukhegAfjPddDcBeY5wN8FRjO7BAYoG9BtB2StmTC679w219njo3gxcyBZROPZ/9eIJkfAXiW246exqO9gmjjhMDZG/a1rRp0w0bNBFyqLT7vFHKLAF7EjEluOFUNgwi/AbR+HPxrf1bW/l5NvtLvjglgZmpJ9DwowavAfGEtTjjVJcJREC1LdUQ3ERE7wXFEQHBHz1TKyS3M3OrEqNs6RLST/aIrM3f9r3axbRMQiqutDN4G4CK7xjyWP0ygu9Lh2E47dmwREEqoD0PiVQaPs2OkXrIEOgUfLUx3RDdatWmJgHv5Ld+A1v8SwEusAo+uHK1pU9qffpvuy1fzoyoBevA7tf5tDL6jGlgj/U6g91uV9ruqkVCVgGBcfeXMGfnhQyBIrE0p0YqztiIB+ppnyZbXUyPNgIIv5BOPVtoTyhKg7/YA4o264Vkl29gYgXC502FEAvRzHtn8rgY86qzGbZY7jIDvhpHuCSUE6De85kRkR6NccpxGbNbTL0upzuhc842xhID/w7ovRxoJeiTdGXu9+PdhBOiJzUnk9o/W3d6t0S5LAOHoOASuKE6ghhEQ0tSVzPyc146MJj4R9aaV2FCMQwTo+fxg9q9f6pXSjhYJeio9MTB+WqGeMERAsxZZKlm+PFqO1dOuIPFUSomu1m0OERCMq3u8q+S4FB6BBeiZAPx9OZGbIvPYxODr7KPT3kw4duUQAUYND/nd9oHqqGEELxamlOhrBavNOyLXyKz8ypkXvjl6jdGYAcFEZDWkfNIZUH20iKCmlb6+YmuX715+7t9/HndWEhPilUxndOlpAjT1azDPrk8oDqwQlmSUvrVmzZDW3c2MmANEgOibjBK7mvS6/V95echx6dqRdetKBFqeDsdWmTWate7bmWmr41yFwON94mJqiat358HvWHepnpJiRSYcfcFssSWh3iYl3mVwUy3e+ED3UCje/SwDvbUAeaFLRM+llViJXyEtMg+QHzDjrFrtErCSQnF1M4O7agVzU18IvJDq7FtRMu0TPQqz/JCZz3bDHoG2UFBTd4F5jhuAbmAQ8FI63LfMjBVMROZC8kcAj3fDjoFBtJuCWvdPYFzqGmgNQOVKWM2J7psk4xMwJtQAX6pK+FlfAkcZfIELwD8KwiL4xQHOcjeDH7eDSST60kpULdnw+iM35nO8HeBz7OBZkSXQMZ2Ak46PkiIrBGorLjsFNfV5MJes45Edow1pJfqEuVih31CJ5KfMfJ6VgOzK6OUy1wiYRJMn7lV6jxc7EUqoL7LkkvVcLEPAxpQSe8wcfLO2+Frm3GcMPt9uYFblCwS4sgRIiK50Z/TNks2rcln9jQXK5Id6qVcW67Uk1dlScpwZk60G40TOWAKubYKEQR/75x8Mr/vc7ExIU6PMPGx9E+jNVqX9AfOHi6n9kVnZnNTqUpDVN0GXj8E//ETzDiixYZmlXmgNaaqeyCw0Th/grValo8scfGhg0UzO5hJgXOJkRG3r6Meg2xcho3lBiFvSHdEvzQ41J9UwMZoOdEQ/Nq/5Fm3JdMnZJINDtgNxqGBchLy4CutrS/h94YPt67624tu0pHpZVnKSGVOsyLslY1yFPUuGiI4EAgHl17Y1eyo5fNnOpdNOnDyRBDDNrcCs4hjJkLfpMB0iQmdaiX03klPNWqRFstSDv9yq067JFdJhHdDLgggRZYQQHQc71n9f7PyUATWUzxrTfrprQdkBKhREDAI8L4nRn4KwnJoCHwSEzJ06wbdKlqtH9QPMsJLYmVAUtTO6lmSLiqLGLDgTyuKWArMiZCqL6ypj/sPILG3lhN/52C9eJh9WxsZrmbKfxnTDY+Tj6LBa45j6PA6iI03wzyj7efzfveAhyXJYE4HX07Je+ILEwykluqnYXpkWGbWfGW31cqwedogwkOqMtVdtkTGOxLHcJFUYjVCy52bkpeZGvbAeI1zOhqM2uSES/g+NkiM0RlXcA8xMep8neDk/aE0mHKv42b9qr7DRLJ1IbmXGnV666jY2Ed5r7ey4u+Zmad0xo10+uWNVozdR/Eeii+3yxSNzRjyYEHjC3AxZaXZVXQJmZf104Hz+3bqUre2tC++fzBT8Of1oKr+5US5L+iWH/b776/JoqkBCIzyb0+/2RFhe92dzxTNz6OEko6deqfS/DyfXjYN/3ag9nDQvzzH7dHakfWpMPp4ut2E3+vP5fwA/MTwANsC8BAAAAABJRU5ErkJggg=="},c270:function(t,e,a){"use strict";var s=a("779b"),r=a.n(s);r.a},e1b6:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"task-form-wrapper",style:{minHeight:t.minHeight}},[a("van-progress",{staticClass:"van-progress",attrs:{color:"#4982F6","track-color":"#D8D8D8",percentage:100/t.stepList.length*t.nowStep,"pivot-text":t.nowStep+"/"+t.stepList.length}}),a("van-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("van-collapse-item",{attrs:{name:"step1"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[1!==t.nowStep||t.stepList[0].status?a("van-icon",{attrs:{name:t.stepList[0].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("1")]),t._v(" 选择网点 ")],1)]},proxy:!0}])},[t.nowStep>=1?a("Step1",{directives:[{name:"show",rawName:"v-show",value:"step1"===t.activeNames,expression:"activeNames === 'step1'"}],attrs:{formData:t.mainFormData,nowStep:t.nowStep},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=2,expression:"nowStep >= 2"}],attrs:{name:"step2"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[2!==t.nowStep||t.stepList[1].status?a("van-icon",{attrs:{name:t.stepList[1].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("2")]),t._v(" 揽收异常 ")],1)]},proxy:!0}])},[t.nowStep>=2?a("Step2",{directives:[{name:"show",rawName:"v-show",value:"step2"===t.activeNames,expression:"activeNames === 'step2'"}],attrs:{formData:t.step2FormData,BaseData:t.BaseData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=3,expression:"nowStep >= 3"}],attrs:{name:"step3"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[3!==t.nowStep||t.stepList[2].status?a("van-icon",{attrs:{name:t.stepList[2].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("3")]),t._v(" 签收异常 ")],1)]},proxy:!0}])},[t.nowStep>=3?a("Step3",{directives:[{name:"show",rawName:"v-show",value:"step3"===t.activeNames,expression:"activeNames === 'step3'"}],attrs:{formData:t.step3FormData,BaseData:t.BaseData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=4,expression:"nowStep >= 4"}],attrs:{name:"step4"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[4!==t.nowStep||t.stepList[3].status?a("van-icon",{attrs:{name:t.stepList[3].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("4")]),t._v(" 危机事件处理 ")],1)]},proxy:!0}])},[t.nowStep>=4?a("Step4",{directives:[{name:"show",rawName:"v-show",value:"step4"===t.activeNames,expression:"activeNames === 'step4'"}],attrs:{formData:t.step4FormData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=5,expression:"nowStep >= 5"}],attrs:{name:"step5"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[5!==t.nowStep||t.stepList[4].status?a("van-icon",{attrs:{name:t.stepList[4].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("5")]),t._v(" 舆情控制 ")],1)]},proxy:!0}])},[t.nowStep>=5?a("Step5",{directives:[{name:"show",rawName:"v-show",value:"step5"===t.activeNames,expression:"activeNames === 'step5'"}],attrs:{formData:t.step5FormData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1),a("van-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.nowStep>=6,expression:"nowStep >= 6"}],attrs:{name:"step6"},scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"step-title"},[6!==t.nowStep||t.stepList[5].status?a("van-icon",{attrs:{name:t.stepList[5].status?t.successIcon:t.warningIcon,size:"16"}}):a("span",{staticClass:"list-icon"},[t._v("6")]),t._v(" 其他 ")],1)]},proxy:!0}])},[t.nowStep>=6?a("Step6",{directives:[{name:"show",rawName:"v-show",value:"step6"===t.activeNames,expression:"activeNames === 'step6'"}],attrs:{formData:t.step6FormData},on:{updataForm:t.updataForm,updataStatus:t.updataStatus}}):t._e()],1)],1),t.nowStep<t.stepList.length?a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.nextStep}},[t._v(" 下一步 ")]):t._e(),t.nowStep===t.stepList.length?a("van-button",{staticClass:"submit-button",attrs:{block:"",type:"info"},on:{click:t.submit}},[t._v(" 提交 ")]):t._e(),t.nowStep>1&&t.showCancel?a("div",{staticClass:"cancel__Network",on:{click:t.cancelTaskForm}},[t._v(" 取消巡查 ")]):t._e()],1)},r=[],n=(a("4160"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("f499")),i=a.n(n),o=a("795b"),c=a.n(o),p=a("967e"),u=a.n(p),m=(a("96cf"),a("5176")),l=a.n(m),d=a("a3b2"),h=a("7eaf"),b=a("29d0"),f=a("d153"),D=a("06a7"),S=a("7c1a"),v=a("c164"),g=a.n(v),w=a("e6ff"),F=a.n(w),C=a("c1df"),x=a.n(C),N=a("61c5"),O={components:{Step1:d["a"],Step2:h["a"],Step3:b["a"],Step4:f["a"],Step5:D["a"],Step6:S["a"]},data:function(){return{showCancel:!0,activeNames:"step1",collapseHeight:58,successIcon:g.a,warningIcon:F.a,isCancel:!1,nowStep:0,stepList:[{label:"选择网点",status:!0},{label:"揽收异常",status:!0},{label:"签收异常",status:!0},{label:"危机事件处理",status:!0},{label:"舆情控制",status:!0},{label:"其他",status:!0}],mainFormData:{latitudeOfCurrentLocation:"",longitudeOfCurrentLocation:"",siteCode:"",siteName:"",id:0,type:0,currentLocation:"",saveDraft:2},step2FormData:{processingResult:"",parentAbnormalTypeCode:"RECEIVE_EXCEPTION",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},step3FormData:{processingResult:"",parentAbnormalTypeCode:"SIGN_EXCEPTION",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},step4FormData:{siteStatusDesc:"",processingResult:"",siteStatus:"",parentAbnormalTypeCode:"CRISIS_DEAL",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},step5FormData:{publicOpinionLevel:"",processingResult:"",parentAbnormalTypeCode:"PUBLIC_OPINION_CONTROL",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},step6FormData:{processingResult:"",parentAbnormalTypeCode:"OTHER_EXCEPTION",processingRecord:"",exceptionList:[{parentCode:"1",codes:["999"]}],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},BaseData:{timelyRecRate:0,billRecTimeLength:0,signRateWithTown24:0,siteComeDispTimeLength:0},sumitedOrCancel:!1}},computed:{minHeight:function(){return"calc(100vh + ".concat((this.nowStep-2)*this.collapseHeight,"px)")}},watch:{"$route.query":{handler:function(t){this.init()},deep:!0},"mainFormData.siteCode":{handler:function(t){this.queryBaseData()},deep:!0}},mounted:function(){l()(this.$data,this.$options.data()),this.init()},destroyed:function(){},methods:{queryBaseData:function(){var t;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.awrap(Object(N["h"])({siteCode:this.mainFormData.siteCode}));case 3:t=e.sent,t&&(this.BaseData=t),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),null,this,[[0,7]],c.a)},init:function(){var t,e=this;return u.a.async((function(a){while(1)switch(a.prev=a.next){case 0:if(this.$route.query&&this.$route.query.from&&"Details"===this.$route.query.from&&(this.showCancel=!1),!this.$route.query||!this.$route.query.id){a.next=14;break}return a.prev=2,a.next=5,u.a.awrap(Object(N["i"])({id:this.$route.query.id}));case 5:t=a.sent,t&&(this.mainFormData={latitudeOfCurrentLocation:t.latitudeOfCurrentLocation,longitudeOfCurrentLocation:t.longitudeOfCurrentLocation,siteCode:t.siteCode,siteName:t.siteName,id:t.id,type:0,currentLocation:t.currentLocation,saveDraft:2},this.activeNames="step2",this.nowStep=2,this.queryBaseData(),this.step2FormData.abnormalMainId=t.id,this.step3FormData.abnormalMainId=t.id,this.step4FormData.abnormalMainId=t.id,this.step5FormData.abnormalMainId=t.id,this.step6FormData.abnormalMainId=t.id,t.mobileAbnormalDetailVOList&&t.mobileAbnormalDetailVOList.length>0&&t.mobileAbnormalDetailVOList.forEach((function(t){t.files||(t.files=[]),t.exceptionList||(t.exceptionList=[]),"RECEIVE_EXCEPTION"===t.parentAbnormalTypeCode?(e.step2FormData=t,e.activeNames="step1",e.nowStep=2):"SIGN_EXCEPTION"===t.parentAbnormalTypeCode?(e.step3FormData=t,e.activeNames="step1",e.nowStep=3):"CRISIS_DEAL"===t.parentAbnormalTypeCode?(e.step4FormData=t,e.activeNames="step1",e.nowStep=4):"PUBLIC_OPINION_CONTROL"===t.parentAbnormalTypeCode?(e.step5FormData=t,e.activeNames="step1",e.nowStep=5):"OTHER_EXCEPTION"===t.parentAbnormalTypeCode&&(e.step6FormData=t,e.activeNames="step1",e.nowStep=6)})),this.checkForm()),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),this.$router.back();case 12:a.next=24;break;case 14:this.activeNames="step1",this.nowStep=1,this.stepList=[{label:"选择网点",status:!1},{label:"揽收异常",status:!1},{label:"签收异常",status:!1},{label:"危机事件处理",status:!1},{label:"舆情控制",status:!1},{label:"其他",status:!1}],this.mainFormData={latitudeOfCurrentLocation:"",longitudeOfCurrentLocation:"",siteCode:"",siteName:"",id:0,type:0,currentLocation:"",saveDraft:2},this.step2FormData={processingResult:"",parentAbnormalTypeCode:"RECEIVE_EXCEPTION",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},this.step3FormData={processingResult:"",parentAbnormalTypeCode:"SIGN_EXCEPTION",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},this.step4FormData={siteStatusDesc:"",processingResult:"",siteStatus:0,parentAbnormalTypeCode:"CRISIS_DEAL",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},this.step5FormData={publicOpinionLevel:"",processingResult:"",parentAbnormalTypeCode:"PUBLIC_OPINION_CONTROL",processingRecord:"",exceptionList:[],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},this.step6FormData={processingResult:"",parentAbnormalTypeCode:"OTHER_EXCEPTION",processingRecord:"",exceptionList:[{parentCode:"1",codes:["999"]}],abnormalReason:"",remark:"",abnormalHappenTime:"",processingStartDate:"",abnormalMainId:0,haveException:2,files:[],id:0,saveDraft:2},this.BaseData={timelyRecRate:0,billRecTimeLength:0,signRateWithTown24:0,siteComeDispTimeLength:0};case 24:case"end":return a.stop()}}),null,this,[[2,9]],c.a)},nextStep:function(){var t,e,a,s,r,n,o,p,m,l,d;return u.a.async((function(c){while(1)switch(c.prev=c.next){case 0:if(this.checkForm(),1!==this.nowStep){c.next=13;break}if(!this.stepList[0].status){c.next=10;break}return 0===this.mainFormData.id&&delete this.mainFormData.id,c.next=6,u.a.awrap(Object(N["l"])(this.mainFormData));case 6:t=c.sent,t>=0&&(this.mainFormData.id=t,this.step2FormData.abnormalMainId=this.mainFormData.id,this.step3FormData.abnormalMainId=this.mainFormData.id,this.step4FormData.abnormalMainId=this.mainFormData.id,this.step5FormData.abnormalMainId=this.mainFormData.id,this.step6FormData.abnormalMainId=this.mainFormData.id,this.activeNames="step"+(this.nowStep+1),this.nowStep++),c.next=11;break;case 10:this.$toast(this.stepList[0].message||"请检查步骤【"+this.stepList[0].label+"】输入内容");case 11:c.next=91;break;case 13:if(2!==this.nowStep){c.next=29;break}return this.step2FormData.abnormalMainId||(this.step2FormData.abnormalMainId=this.mainFormData.id),0===this.step2FormData.id&&delete this.step2FormData.id,e=JSON.parse(i()(this.step2FormData)),e.abnormalHappenTime||delete e.abnormalHappenTime,e.processingStartDate||delete e.processingStartDate,e.siteStatus||delete e.siteStatus,e.publicOpinionLevel||delete e.publicOpinionLevel,"number"===typeof e.abnormalHappenTime&&(e.abnormalHappenTime=x()(e.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof e.processingStartDate&&(e.processingStartDate=x()(e.processingStartDate).format("YYYY-MM-DD HH:mm:ss")),c.next=25,u.a.awrap(Object(N["m"])(e));case 25:a=c.sent,a>=0&&(this.step2FormData.id=a,this.activeNames="step"+(this.nowStep+1),this.nowStep++),c.next=91;break;case 29:if(3!==this.nowStep){c.next=45;break}return this.step3FormData.abnormalMainId||(this.step3FormData.abnormalMainId=this.mainFormData.id),0===this.step3FormData.id&&delete this.step3FormData.id,s=JSON.parse(i()(this.step3FormData)),s.abnormalHappenTime||delete s.abnormalHappenTime,s.processingStartDate||delete s.processingStartDate,s.siteStatus||delete s.siteStatus,s.publicOpinionLevel||delete s.publicOpinionLevel,"number"===typeof s.abnormalHappenTime&&(s.abnormalHappenTime=x()(s.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof s.processingStartDate&&(s.processingStartDate=x()(s.processingStartDate).format("YYYY-MM-DD HH:mm:ss")),c.next=41,u.a.awrap(Object(N["m"])(s));case 41:r=c.sent,r>=0&&(this.step3FormData.id=r,this.activeNames="step"+(this.nowStep+1),this.nowStep++),c.next=91;break;case 45:if(4!==this.nowStep){c.next=61;break}return this.step4FormData.abnormalMainId||(this.step4FormData.abnormalMainId=this.mainFormData.id),0===this.step4FormData.id&&delete this.step4FormData.id,n=JSON.parse(i()(this.step4FormData)),n.abnormalHappenTime||delete n.abnormalHappenTime,n.processingStartDate||delete n.processingStartDate,n.siteStatus||delete n.siteStatus,n.publicOpinionLevel||delete n.publicOpinionLevel,"number"===typeof n.abnormalHappenTime&&(n.abnormalHappenTime=x()(n.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof n.processingStartDate&&(n.processingStartDate=x()(n.processingStartDate).format("YYYY-MM-DD HH:mm:ss")),c.next=57,u.a.awrap(Object(N["m"])(n));case 57:o=c.sent,o>=0&&(this.step4FormData.id=o,this.activeNames="step"+(this.nowStep+1),this.nowStep++),c.next=91;break;case 61:if(5!==this.nowStep){c.next=77;break}return this.step5FormData.abnormalMainId||(this.step5FormData.abnormalMainId=this.mainFormData.id),0===this.step5FormData.id&&delete this.step5FormData.id,p=JSON.parse(i()(this.step5FormData)),p.abnormalHappenTime||delete p.abnormalHappenTime,p.processingStartDate||delete p.processingStartDate,p.siteStatus||delete p.siteStatus,p.publicOpinionLevel||delete p.publicOpinionLevel,"number"===typeof p.abnormalHappenTime&&(p.abnormalHappenTime=x()(p.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof p.processingStartDate&&(p.processingStartDate=x()(p.processingStartDate).format("YYYY-MM-DD HH:mm:ss")),c.next=73,u.a.awrap(Object(N["m"])(p));case 73:m=c.sent,m>=0&&(this.step5FormData.id=m,this.activeNames="step"+(this.nowStep+1),this.nowStep++),c.next=91;break;case 77:if(6!==this.nowStep){c.next=91;break}return this.step6FormData.abnormalMainId||(this.step6FormData.abnormalMainId=this.mainFormData.id),0===this.step6FormData.id&&delete this.step6FormData.id,l=JSON.parse(i()(this.step6FormData)),l.abnormalHappenTime||delete l.abnormalHappenTime,l.processingStartDate||delete l.processingStartDate,l.siteStatus||delete l.siteStatus,l.publicOpinionLevel||delete l.publicOpinionLevel,"number"===typeof l.abnormalHappenTime&&(l.abnormalHappenTime=x()(l.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof l.processingStartDate&&(l.processingStartDate=x()(l.processingStartDate).format("YYYY-MM-DD HH:mm:ss")),c.next=89,u.a.awrap(Object(N["m"])(l));case 89:d=c.sent,d>=0&&(this.step6FormData.id=d);case 91:case"end":return c.stop()}}),null,this,null,c.a)},submit:function(){var t,e,a,s,r=this;return u.a.async((function(n){while(1)switch(n.prev=n.next){case 0:this.checkForm(),t=0;case 2:if(!(t<this.stepList.length)){n.next=9;break}if(this.stepList[t].status){n.next=6;break}return this.$toast(this.stepList[t].message||"请检查步骤【"+this.stepList[t].label+"】输入内容"),n.abrupt("return");case 6:t++,n.next=2;break;case 9:return this.step6FormData.abnormalMainId||(this.step6FormData.abnormalMainId=this.mainFormData.id),0===this.step6FormData.id&&delete this.step6FormData.id,e=JSON.parse(i()(this.step6FormData)),e.abnormalHappenTime||delete e.abnormalHappenTime,e.processingStartDate||delete e.processingStartDate,"number"===typeof e.abnormalHappenTime&&(e.abnormalHappenTime=x()(e.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof e.processingStartDate&&(e.processingStartDate=x()(e.processingStartDate).format("YYYY-MM-DD HH:mm:ss")),n.next=18,u.a.awrap(Object(N["m"])(e));case 18:if(a=n.sent,this.step6FormData.id=a,s={detailGIList:[JSON.parse(i()(this.step2FormData)),JSON.parse(i()(this.step3FormData)),JSON.parse(i()(this.step4FormData)),JSON.parse(i()(this.step5FormData)),JSON.parse(i()(this.step6FormData))]},n.prev=21,2!==this.step2FormData.haveException||2!==this.step3FormData.haveException||2!==this.step4FormData.haveException||2!==this.step5FormData.haveException||2!==this.step6FormData.haveException){n.next=26;break}this.$toast("必须填写至少一项异常才可以提交"),n.next=28;break;case 26:return n.next=28,u.a.awrap(this.$dialog.confirm({title:"",message:"请确认提交的内容是否完整正确？",confirmButtonText:"确认提交",cancelButtonText:"暂不提交",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){return u.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s.detailGIList.forEach((function(t){t.abnormalHappenTime||delete t.abnormalHappenTime,t.processingStartDate||delete t.processingStartDate,t.siteStatus||delete t.siteStatus,t.publicOpinionLevel||delete t.publicOpinionLevel})),t.next=4,u.a.awrap(Object(N["t"])(s));case 4:r.sumitedOrCancel=!0,r.$toast("提交成功"),r.$router.replace({path:"home",query:{tab:"FieldManagement",sonTab:"patrolRecordDetailsList"}}),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),null,null,[[0,9]],c.a)})).catch((function(){})));case 28:n.next=32;break;case 30:n.prev=30,n.t0=n["catch"](21);case 32:case"end":return n.stop()}}),null,this,[[21,30]],c.a)},cancelTaskForm:function(){var t=this;return u.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(this.$dialog.confirm({title:"",message:"您确定要取消吗？取消后本次巡店信息将不会保存",confirmButtonText:"确认取消",cancelButtonText:"暂不取消",confirmButtonColor:"#3693FF",cancelButtonColor:"#3693FF"}).then((function(){var e;return u.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return e={id:t.mainFormData.id,type:0},a.prev=1,a.next=4,u.a.awrap(Object(N["a"])(e));case 4:t.sumitedOrCancel=!0,t.$toast("取消成功"),t.$router.back(),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:case"end":return a.stop()}}),null,null,[[1,9]],c.a)})).catch((function(){})));case 2:case"end":return e.stop()}}),null,this,null,c.a)},updataForm:function(t,e){1===t?this.mainFormData={latitudeOfCurrentLocation:e.latitudeOfCurrentLocation,longitudeOfCurrentLocation:e.longitudeOfCurrentLocation,siteCode:e.siteCode,siteName:e.siteName,id:e.id,type:0,currentLocation:e.currentLocation}:2===t?this.step2FormData=e:3===t?this.step3FormData=e:4===t?this.step4FormData=e:5===t?this.step5FormData=e:6===t&&(this.step6FormData=e)},updataStatus:function(t,e,a){this.stepList[t-1].status=e,this.stepList[t-1].message=a||""},goBack:function(){this.sumitedOrCancel||this.autoSave()},autoSave:function(){var t,e,a,s,r,n,o;return u.a.async((function(c){while(1)switch(c.prev=c.next){case 0:if(t=this.nowStep,e=JSON.parse(i()(this.step2FormData)),a=JSON.parse(i()(this.step3FormData)),s=JSON.parse(i()(this.step4FormData)),r=JSON.parse(i()(this.step5FormData)),n=JSON.parse(i()(this.step6FormData)),!this.stepList[0].status){c.next=12;break}return 0===this.mainFormData.id&&delete this.mainFormData.id,c.next=10,u.a.awrap(Object(N["l"])(this.mainFormData));case 10:o=c.sent,o>=0&&(this.mainFormData.id=o,e.abnormalMainId=this.mainFormData.id,a.abnormalMainId=this.mainFormData.id,s.abnormalMainId=this.mainFormData.id,r.abnormalMainId=this.mainFormData.id,n.abnormalMainId=this.mainFormData.id);case 12:if(t>1){if(t>=2){e.saveDraft=1,e.abnormalMainId||(e.abnormalMainId=this.mainFormData.id),0===e.id&&delete e.id,e.abnormalHappenTime||delete e.abnormalHappenTime,e.processingStartDate||delete e.processingStartDate,e.siteStatus||delete e.siteStatus,e.publicOpinionLevel||delete e.publicOpinionLevel,e.annex&&delete e.annex,"number"===typeof e.abnormalHappenTime&&(e.abnormalHappenTime=x()(e.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof e.processingStartDate&&(e.processingStartDate=x()(e.processingStartDate).format("YYYY-MM-DD HH:mm:ss"));try{Object(N["m"])(e)}catch(p){}}if(t>=3){a.saveDraft=1,a.abnormalMainId||(a.abnormalMainId=this.mainFormData.id),a.abnormalHappenTime||delete a.abnormalHappenTime,a.processingStartDate||delete a.processingStartDate,0===a.id&&delete a.id,a.siteStatus||delete a.siteStatus,a.publicOpinionLevel||delete a.publicOpinionLevel,"number"===typeof a.abnormalHappenTime&&(a.abnormalHappenTime=x()(a.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof a.processingStartDate&&(a.processingStartDate=x()(a.processingStartDate).format("YYYY-MM-DD HH:mm:ss"));try{Object(N["m"])(a)}catch(p){}}if(t>=4){s.saveDraft=1,s.abnormalMainId||(s.abnormalMainId=this.mainFormData.id),s.abnormalHappenTime||delete s.abnormalHappenTime,s.processingStartDate||delete s.processingStartDate,0===s.id&&delete s.id,s.siteStatus||delete s.siteStatus,s.publicOpinionLevel||delete s.publicOpinionLevel,"number"===typeof s.abnormalHappenTime&&(s.abnormalHappenTime=x()(s.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof s.processingStartDate&&(s.processingStartDate=x()(s.processingStartDate).format("YYYY-MM-DD HH:mm:ss"));try{Object(N["m"])(s)}catch(p){}}if(t>=5){r.saveDraft=1,r.abnormalMainId||(r.abnormalMainId=this.mainFormData.id),r.abnormalHappenTime||delete r.abnormalHappenTime,r.processingStartDate||delete r.processingStartDate,0===r.id&&delete r.id,r.siteStatus||delete r.siteStatus,r.publicOpinionLevel||delete r.publicOpinionLevel,"number"===typeof r.abnormalHappenTime&&(r.abnormalHappenTime=x()(r.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof r.processingStartDate&&(r.processingStartDate=x()(r.processingStartDate).format("YYYY-MM-DD HH:mm:ss"));try{Object(N["m"])(r)}catch(p){}}if(6===t){n.saveDraft=1,n.abnormalMainId||(n.abnormalMainId=this.mainFormData.id),n.abnormalHappenTime||delete n.abnormalHappenTime,n.processingStartDate||delete n.processingStartDate,0===n.id&&delete n.id,n.siteStatus||delete n.siteStatus,n.publicOpinionLevel||delete n.publicOpinionLevel,"number"===typeof n.abnormalHappenTime&&(n.abnormalHappenTime=x()(n.abnormalHappenTime).format("YYYY-MM-DD HH:mm:ss")),"number"===typeof n.processingStartDate&&(n.processingStartDate=x()(n.processingStartDate).format("YYYY-MM-DD HH:mm:ss"));try{Object(N["m"])(n)}catch(p){}}}case 13:case"end":return c.stop()}}),null,this,null,c.a)},checkForm:function(){if(this.mainFormData.siteCode&&this.mainFormData.currentLocation&&this.mainFormData.latitudeOfCurrentLocation&&this.mainFormData.longitudeOfCurrentLocation)this.stepList[0].status=!0;else{var t="";this.mainFormData.siteCode?this.mainFormData.currentLocation||(t="未定位当前地址，请定位后再操作"):t="请选择巡查网点",this.stepList[0].status=!1,this.stepList[0].message=t}if(1===this.step2FormData.haveException&&this.step2FormData.processingResult&&this.step2FormData.processingRecord&&this.step2FormData.exceptionList.length>0&&this.step2FormData.abnormalReason&&this.step2FormData.abnormalHappenTime&&this.step2FormData.processingStartDate||2===this.step2FormData.haveException)this.stepList[1].status=!0;else{var e="";this.step2FormData.exceptionList&&0!==this.step2FormData.exceptionList.length?this.step2FormData.abnormalHappenTime?this.step2FormData.processingStartDate?this.step2FormData.abnormalReason?this.step2FormData.processingRecord?this.step2FormData.processingResult||(e="请录入揽收异常处理结果"):e="请录入揽收异常处理过程":e="请录入揽收异常原因描述":e="请选择揽收异常开始处理时间":e="请选择揽收异常发生时间":e="请选择揽收异常异常类型",this.stepList[1].status=!1,this.stepList[1].message=e}if(1===this.step3FormData.haveException&&this.step3FormData.processingResult&&this.step3FormData.processingRecord&&this.step3FormData.exceptionList.length>0&&this.step3FormData.abnormalReason&&this.step3FormData.abnormalHappenTime&&this.step3FormData.processingStartDate||2===this.step3FormData.haveException)this.stepList[2].status=!0;else{var a="";this.step3FormData.exceptionList&&0!==this.step3FormData.exceptionList.length?this.step3FormData.abnormalHappenTime?this.step3FormData.processingStartDate?this.step3FormData.abnormalReason?this.step3FormData.processingRecord?this.step3FormData.processingResult||(a="请录入签收异常处理结果"):a="请录入签收异常处理过程":a="请录入签收异常原因描述":a="请选择签收异常开始处理时间":a="请选择签收异常发生时间":a="请选择签收异常异常类型",this.stepList[2].status=!1,this.stepList[2].message=a}if(1===this.step4FormData.haveException&&this.step4FormData.processingResult&&this.step4FormData.processingRecord&&this.step4FormData.exceptionList.length>0&&this.step4FormData.abnormalReason&&this.step4FormData.abnormalHappenTime&&this.step4FormData.siteStatus&&this.step4FormData.processingStartDate||2===this.step4FormData.haveException)this.stepList[3].status=!0;else{var s="";this.step4FormData.exceptionList&&0!==this.step4FormData.exceptionList.length?this.step4FormData.abnormalHappenTime?this.step4FormData.processingStartDate?this.step4FormData.siteStatus?this.step4FormData.abnormalReason?this.step4FormData.processingRecord?this.step4FormData.processingResult||(s="请录入危机事件处理结果"):s="请录入危机事件处理过程":s="请录入危机事件详情描述":s="请选择危机事件网点现状":s="请选择危机事件开始处理时间":s="请选择危机事件异常发生时间":s="请选择危机事件异常类型",this.stepList[3].status=!1,this.stepList[3].message=s}if(1===this.step5FormData.haveException&&this.step5FormData.processingResult&&this.step5FormData.processingRecord&&this.step5FormData.exceptionList.length>0&&this.step5FormData.abnormalReason&&this.step5FormData.abnormalHappenTime&&this.step5FormData.publicOpinionLevel&&this.step5FormData.processingStartDate||2===this.step5FormData.haveException)this.stepList[4].status=!0;else{var r="";this.step5FormData.exceptionList&&0!==this.step5FormData.exceptionList.length?this.step5FormData.abnormalHappenTime?this.step5FormData.processingStartDate?this.step5FormData.publicOpinionLevel?this.step5FormData.abnormalReason?this.step5FormData.processingRecord?this.step5FormData.processingResult||(r="请录入舆情控制异常处理结果"):r="请录入舆情控制异常处理过程":r="请录入舆情详情描述":r="请选择舆情等级":r="请选择舆情控制开始处理时间":r="请选择舆情控制异常发生时间":r="请选择舆情控制异常类型",this.stepList[4].status=!1,this.stepList[4].message=r}if(1===this.step6FormData.haveException&&this.step6FormData.processingResult&&this.step6FormData.processingRecord&&this.step6FormData.exceptionList.length>0&&this.step6FormData.abnormalReason&&this.step6FormData.abnormalHappenTime&&this.step6FormData.processingStartDate||2===this.step6FormData.haveException)this.stepList[5].status=!0;else{var n="";this.step6FormData.abnormalHappenTime?this.step6FormData.processingStartDate?this.step6FormData.abnormalReason?this.step6FormData.processingRecord?this.step6FormData.processingResult||(n="请录入其他异常处理结果"):n="请录入其他异常处理过程":n="请录入其他异常情况详情描述":n="请选择其他异常开始处理时间":n="请选择其他异常发生时间",this.stepList[5].status=!1,this.stepList[5].message=n}}},beforeRouteLeave:function(t,e,a){a()}},y=O,L=(a("5a01"),a("2877")),T=Object(L["a"])(y,s,r,!1,null,"29b9e8fc",null);e["a"]=T.exports},e350:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("4de4"),a("caad"),a("45fc"),a("2532");var s=a("4360"),r=function(t,e){if(e&&e instanceof Array&&e.length>0){if(!t)return!1;var a=e.some((function(e){return t.includes(e)}));return!!a}return!1},n=function(t){var e=s["a"].state.user.userInfo;return!(!e||!e.permissions)&&r(e.permissions,t)}},e6ff:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEaUlEQVR4Xu2bPWwcRRSAv7cx0BARICQNASookoBE0iAkIgoKyiiIIhEgGXzXERQSpQsiVCiOktDdmljKDxQoUsoUKSIsIQoCEsQuSMNv4wARCBpD7Idmdu98a69vb+d2Zzdar2TJsvfNm/fNvpl5b94IJT/aYTPCHmA7ylPAk8BmYCPCRqte+Rvsz+/ATYTvEWZZYkba9m+lPVJGy9rhWWA/wkvAThQ3PYICN1CuAp9Km2+K7q9bx1J6oZ9xP3/SAsZRthfdUdueMIdylgeZklf5pwgdIwPQDg8AbyO8g/JQEZ3KbEO4jXIa+Eja/JX5/oAXRgKgU7zOEieALaN0YgTZWwQckQnOu7bhBECneJQlPgFecFVcsNwMAQdkgl/ztpsbgJ7lORa5jLI1r7JS3xfm2cBeeZMv8+jJBSD+5EPgvjxKPL67QEArj0sMBUCVgCk+RDns0Rh3VcIkExwVYSmrkUwAsfGXUPZmNVar/wuXmeCVLAjZAEJO3DUjv3IEhElpcWTQwAwEEPv8uVqNbN7OBLwxaE5YE4Cd7e9wrcYT3rAoFhjjxbVWh1QAdp1XrtduqRvW5NWuMI+wO22fkA6gw+elb3KELxBes31VLqA872rfkHImsjRRaeJZBcCb329gp7zFrLX/Y3awyI0hDXF/LWU+SACIA5ubXvb2LQKJwl3UhMth9prtbnlP8pbJR/QHUEkAIcdQ3i9AUWYT0k7mCLQTwSj9Ed6TFse7enoA4nj+J18hbYUAbrOJx7v5hGUAIYdQTpY+ArGCygBE+g9Jm1Pml34As6VlclKoVgpAmJMWO3oA4hze175G3yquag5YNnKXyTHaL0A7TALvNgzASWlzOAIQ8i3K040CIHwnLZ4RneYR7jDvnLp2pFa5C5g9yBhbRUP2oVxytMNZrHIApucB+wwAb5ufflq1AGA2Rdqx2d39zkPpKFgLAOa0STt8Bex2tMNZrCYArhsAPwBPOFviKFgTAD8aAOb09WFHO5zFagLgDzMJLqDc62yJo2AtAAj/rgNYd4H1SXB9GWz4RqiirTDJpGhAyKLjguIuZrfCFQVDVJEWX4nKBkMVhcP4PxhJmm/CYWVLZQkR9++2IMluQqSqlFhBZozSTF9KLCps9JoUHaXnBckuJ0XjvKDXtHhBRrg1szItHgPwejDi1vPCpFIORqJSV29HY4WZkrchU2WadjQWfwX+8oPCFcTWFpv6gBDl5by2OL5/TNp80JWt7nj8Hh6TcX6x9keVp/b3kp/Bx+NxZ0z9b/mFUQHbuiUrOs02/uPnko03afBVBVNVlsj4doHhSmR6n2STi6QshCaXyXV90VvBVJnO71oo2YPQ5FJZ6wpRpXhzi6X7IDSzXL7fPRt7YSIBoclXZnoTY7Rzu1h6PfHwq4O/S1MpLtG8a3MJCObipHAQOOiryhQT0sIZlDOVXpxMgPB1dRam2URYm6uzaW7ayMvTa81X8bmDuWGa7/o8zDHGjIzz2/BzYf43/wdptdYO8kIP3gAAAABJRU5ErkJggg=="},f9d0:function(t,e,a){"use strict";a.d(e,"n",(function(){return n})),a.d(e,"m",(function(){return i})),a.d(e,"k",(function(){return o})),a.d(e,"e",(function(){return c})),a.d(e,"c",(function(){return p})),a.d(e,"b",(function(){return u})),a.d(e,"a",(function(){return m})),a.d(e,"f",(function(){return l})),a.d(e,"j",(function(){return d})),a.d(e,"l",(function(){return h})),a.d(e,"h",(function(){return b})),a.d(e,"d",(function(){return f})),a.d(e,"g",(function(){return D})),a.d(e,"i",(function(){return S})),a.d(e,"o",(function(){return v})),a.d(e,"p",(function(){return g})),a.d(e,"q",(function(){return w}));var s=a("51be"),r=a("b775");function n(t){return Object(r["a"])({url:"".concat(s["a"],"/app/queryHomePageTaskInfo"),method:"POST",data:t,isErrorMsgPop:!0})}function i(t){return Object(r["a"])({url:"".concat(s["a"],"/app/myTodoTaskList"),method:"POST",data:t,isErrorMsgPop:!0})}function o(t){return Object(r["a"])({url:"".concat(s["a"],"/app/myFinishedTaskList"),method:"POST",data:t,isErrorMsgPop:!0})}function c(t){return Object(r["a"])({url:"".concat(s["a"],"/app/copyToMeTaskList"),method:"POST",data:t,isErrorMsgPop:!0})}function p(t){return Object(r["a"])({url:"".concat(s["a"],"/app/myTodoTaskDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function u(t){return Object(r["a"])({url:"".concat(s["a"],"/app/myFinishedTaskDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function m(t){return Object(r["a"])({url:"".concat(s["a"],"/app/copyToMeDetail "),method:"POST",data:t,isErrorMsgPop:!0})}function l(t){return Object(r["a"])({url:"".concat(s["a"],"/app/copyToMeTaskSite"),method:"POST",data:t,isErrorMsgPop:!0})}function d(t){return Object(r["a"])({url:"".concat(s["a"],"/app/myFinishedTaskSite"),method:"POST",data:t,isErrorMsgPop:!0})}function h(t){return Object(r["a"])({url:"".concat(s["a"],"/app/myTodoTaskSite"),method:"POST",data:t,isErrorMsgPop:!0})}function b(t){return Object(r["a"])({url:"".concat(s["a"],"/pc/queryTaskFeedback"),method:"POST",data:t,isErrorMsgPop:!0})}function f(t){return Object(r["a"])({url:"".concat(s["a"],"/pc/addReply"),method:"POST",data:t,isErrorMsgPop:!0})}function D(t){return Object(r["a"])({url:"".concat(s["a"],"/pc/task/completeJobSite/error "),method:"POST",data:t,isErrorMsgPop:!0})}function S(t){return Object(r["a"])({url:"".concat(s["a"],"/pc/task/jobSite/info"),method:"POST",data:t,isErrorMsgPop:!0})}function v(t){return Object(r["a"])({url:"".concat(s["a"],"/pc/task/all "),method:"POST",data:t,isErrorMsgPop:!0})}function g(t){return Object(r["a"])({url:"".concat(s["a"],"/pc/task/check"),method:"POST",data:t,isErrorMsgPop:!0})}function w(t){return Object(r["a"])({url:"".concat(s["a"],"/mobile/task/transfer/1"),method:"POST",data:t,isErrorMsgPop:!0})}},fdb7:function(t,e,a){"use strict";var s=a("16b7"),r=a.n(s);r.a}}]);