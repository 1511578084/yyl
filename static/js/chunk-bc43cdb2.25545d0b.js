(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc43cdb2"],{"0515":function(t,e,n){},"246d":function(t,e,n){"use strict";var i=n("37a6"),o=n.n(i);o.a},"37a6":function(t,e,n){},"50aa":function(t,e,n){},"510d":function(t,e,n){"use strict";var i=n("50aa"),o=n.n(i);o.a},"538d":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"v",(function(){return c})),n.d(e,"t",(function(){return s})),n.d(e,"q",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"s",(function(){return f})),n.d(e,"r",(function(){return h})),n.d(e,"k",(function(){return p})),n.d(e,"p",(function(){return b})),n.d(e,"h",(function(){return m})),n.d(e,"z",(function(){return y})),n.d(e,"j",(function(){return v})),n.d(e,"e",(function(){return g})),n.d(e,"i",(function(){return x})),n.d(e,"d",(function(){return S})),n.d(e,"A",(function(){return C})),n.d(e,"m",(function(){return w})),n.d(e,"l",(function(){return k})),n.d(e,"B",(function(){return O})),n.d(e,"x",(function(){return P})),n.d(e,"w",(function(){return j})),n.d(e,"o",(function(){return T})),n.d(e,"f",(function(){return L})),n.d(e,"g",(function(){return D})),n.d(e,"y",(function(){return E})),n.d(e,"u",(function(){return F}));var i=n("51be"),o=n("b775");function a(t){return Object(o["a"])({url:"".concat(i["b"],"/board/getBoardDataUpdateTime"),method:"POST",data:t,isErrorMsgPop:!0})}function r(t){return Object(o["a"])({url:"".concat(i["b"],"/backcharge/queryHome"),method:"POST",data:t,isErrorMsgPop:!0})}function c(t){return Object(o["a"])({url:"".concat(i["b"],"/backcharge/boardTopTen"),method:"POST",data:t,isErrorMsgPop:!0})}function s(t){return Object(o["a"])({url:"".concat(i["b"],"/backcharge/details"),method:"POST",data:t,isErrorMsgPop:!0})}function l(t){return Object(o["a"])({url:"".concat(i["b"],"/board/contribute/getIndexBoardSiteContribute"),method:"POST",data:t,isErrorMsgPop:!0})}function u(t){return Object(o["a"])({url:"".concat(i["b"],"/board/contribute/getBoardContributeList"),method:"POST",data:t,isErrorMsgPop:!0})}function d(t){return Object(o["a"])({url:"".concat(i["b"],"/board/contribute/getContributeTopData"),method:"POST",data:t,isErrorMsgPop:!0})}function f(t){return Object(o["a"])({url:"".concat(i["b"],"/nationfee/nationFeeHome"),method:"POST",data:t,isErrorMsgPop:!0})}function h(t){return Object(o["a"])({url:"".concat(i["b"],"/nationfee/nationFeeDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function p(t){return Object(o["a"])({url:"".concat(i["b"],"/nationfee/boardTopTen"),method:"POST",data:t,isErrorMsgPop:!0})}function b(t){return Object(o["a"])({url:"".concat(i["b"],"/board/sendCost/getIndexBoardSendCost"),method:"POST",data:t,isErrorMsgPop:!0})}function m(t){return Object(o["a"])({url:"".concat(i["b"],"/board/sendCost/getBoardSendCostList"),method:"POST",data:t,isErrorMsgPop:!0})}function y(t){return Object(o["a"])({url:"".concat(i["b"],"/boardsubsidy/querySubsidyHome"),method:"POST",data:t,isErrorMsgPop:!0})}function v(t){return Object(o["a"])({url:"".concat(i["b"],"/boardsubsidy/boardSite"),method:"POST",data:t,isErrorMsgPop:!0})}function g(t){return Object(o["a"])({url:"".concat(i["b"],"/boardsubsidy/boardPolicyNoRule"),method:"POST",data:t,isErrorMsgPop:!0})}function x(t){return Object(o["a"])({url:"".concat(i["b"],"/boardsubsidy/boardSiteDetails"),method:"POST",data:t,isErrorMsgPop:!0})}function S(t){return Object(o["a"])({url:"".concat(i["b"],"/boardsubsidy/boardPolicyMode"),method:"POST",data:t,isErrorMsgPop:!0})}function C(t){return Object(o["a"])({url:"".concat(i["b"],"/boardtranfee/queryTranfeeHome"),method:"POST",data:t,isErrorMsgPop:!0})}function w(t){return Object(o["a"])({url:"".concat(i["b"],"/boardtranfee/boardTranfeeTop"),method:"POST",data:t,isErrorMsgPop:!0})}function k(t){return Object(o["a"])({url:"".concat(i["b"],"/boardtranfee/boardSiteDetails"),method:"POST",data:t,isErrorMsgPop:!0})}function O(t){return Object(o["a"])({url:"".concat(i["b"],"/tranfee/policy/policyQuery"),method:"POST",data:t,isErrorMsgPop:!0})}function P(t){return Object(o["a"])({url:"".concat(i["b"],"/category/qryCategoryAverageWeightByCondition"),method:"POST",data:t,isErrorMsgPop:!0})}function j(t){return Object(o["a"])({url:"".concat(i["b"],"/tranfee/policy/policyWeightCategoryQuery"),method:"POST",data:t,isErrorMsgPop:!0})}function T(t){return Object(o["a"])({url:"".concat(i["b"],"/board/quote/getIndexBoardQuote"),method:"POST",data:t,isErrorMsgPop:!0})}function L(t){return Object(o["a"])({url:"".concat(i["b"],"/board/quote/getBoardQuoteList"),method:"POST",data:t,isErrorMsgPop:!0})}function D(t){return Object(o["a"])({url:"".concat(i["b"],"/board/quote/getBoardQuoteTop"),method:"POST",data:t,isErrorMsgPop:!0})}function E(t){return Object(o["a"])({url:"".concat(i["b"],"/policyapply/queryPolicyApplyHome"),method:"POST",data:t,isErrorMsgPop:!0})}function F(t){return Object(o["a"])({url:"".concat(i["b"],"/policyapply/boardSiteDetails"),method:"POST",data:t,isErrorMsgPop:!0})}},"58b2":function(t,e,n){"use strict";var i=n("9359"),o=n.n(i);o.a},9359:function(t,e,n){},9533:function(t,e,n){"use strict";var i=n("0515"),o=n.n(i);o.a},"9ae1":function(t,e,n){},ba8d:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"changeSiteManager"},[n("div",{staticClass:"process hy-content"},[n("van-sticky",{on:{scroll:t.stickyScroll}},[n("div",{ref:"processTabBox",staticClass:"process-tab-box",class:{"box-fixed":t.isFixed}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.active,expression:"active === 0"}],staticClass:"tab-box-initial-second"},t._l(t.tabSecondList,(function(e,i){return n("div",{key:i,staticClass:"tab-item",class:{active:t.activeSecond===i},attrs:{id:"secondTab"+i},on:{click:function(e){return t.secondTabClick(i)}}},[t._v(" "+t._s(e)+" ")])})),0)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.active,expression:"active === 0"}],staticClass:"apply-info",style:{height:t.isFixed?"auto":t.applyHeight,overflowY:t.isFixed?"hidden":"auto"}},[n("div",{ref:"apply0",attrs:{id:"apply0"}},[n("basic-info",{attrs:{policy:t.policy}})],1),n("div",{ref:"apply1",attrs:{id:"apply1"}},[t.policy!=={}?n("detail-policy",{attrs:{policy:t.policy}}):t._e()],1),n("div",{ref:"apply2",attrs:{id:"apply2"}},[n("examine-quote",{attrs:{policy:t.policy}})],1),n("div",{ref:"apply3",attrs:{id:"apply3"}},[n("condition-detail",{attrs:{policy:t.policy}})],1)])],1)])},o=[],a=(n("4de4"),n("4160"),n("d81d"),n("13d5"),n("4e82"),n("d3b7"),n("159b"),n("85f2")),r=n.n(a),c=n("d847"),s=n.n(c),l=n("5e83"),u=n.n(l),d=n("268f"),f=n.n(d),h=n("e265"),p=n.n(h),b=n("795b"),m=n.n(b),y=n("967e"),v=n.n(y),g=(n("96cf"),n("a4bb")),x=n.n(g),S=n("2fa7"),C=n("0644"),w=n.n(C),k=n("2f62"),O=n("7707"),P=n.n(O),j=n("538d"),T=(n("99af"),n("b0c0"),n("ac1f"),n("1276"),n("c1df")),L=n.n(T),D={tabSecondList:["基础信息","政策详情","考核和报价","基数明细"],basicList:[{name:"beginAndEndTime",label:"政策执行时间",value:"",formatter:function(t){var e=L()(t.startTime).format("YYYY-MM-DD"),n=L()(t.endTime).format("YYYY-MM-DD");return"".concat(e,"至").concat(n)}},{name:"reason",label:"政策说明",value:""},{name:"targetString",label:"政策补贴对象",value:""}],detailPolicyList:[{name:"name",label:"名称",value:""},{name:"transferNames",label:"交件中心",value:"",formatter:function(t){return t.transferNames}},{name:"weightStr",label:"基数重量段(kg)",value:""},{name:"weightDest",label:"目的地(共n项)",value:"",formatterLabel:function(t){return"目的地(共".concat(t.weightDest.split(",").length||0,"项)")}},{name:"cardinalNumberConfig",label:"基数配置",value:"",formatter:function(t){var e="";return t.baseConfigStr&&null!==t.baseConfigStr&&t.baseConfigStr.forEach((function(t,n){e+=n+1+"."+t+"<br/>"})),e}},{name:"rejectCondition",label:"剔除条件",value:"",formatter:function(t){var e="";return t.exFactorDetailGos&&null!==t.exFactorDetailGos&&t.exFactorDetailGos.forEach((function(t){t.name&&(e+='<div class="hy-title" >\n                          <span class="line"></span>\n                          <h4 style="font-size: 14px;\n                              font-weight: 600;\n                              color: #333333;\n                              line-height: 24px;\n                              margin: 0;\n                              display: flex;\n                              align-items: center;">\n                            '.concat(t.name?t.name:"","\n                          </h4>\n                        </div>\n                        <span>").concat(t.desc?t.desc:"").concat(t.remark?t.remark:"","</span>"))})),e}},{name:"condition",label:"均重剔除条件",value:"",slot:!0,formatter:function(t){return t.exFactorSurveyGos&&null!==t.exFactorSurveyGos?t.exFactorSurveyGos:""}},{name:"exFactorDetailGos",label:"业务量剔除条件",value:"",formatter:function(t){return null!==t.exFactorBusDetailGos&&t.exFactorBusDetailGos?"".concat(t.exFactorBusDetailGos.name?t.exFactorBusDetailGos.name:"").concat(t.exFactorBusDetailGos.desc?t.exFactorBusDetailGos.desc:"").concat(t.exFactorBusDetailGos.remark?t.exFactorBusDetailGos.remark:""):" "}}],examineQuotList:[{name:"quoteDetail",label:"考核和报价",value:"",formatter:function(t){var e="";return t?(t.forEach((function(t){e+=t.quoteDetail})),e):e}}],conditionConfigList:[{name:"section",label:"重量段(kg)",formatter:function(t){return"".concat(t.startSection||0,"-").concat(t.endSection||0,"kg")}},{name:"weightDest",label:"目的地"}]},E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"second-title"},[t._v("基础信息")]),t._l(t.partList,(function(e,i){return n("div",{key:e.name+i},[n("card",{attrs:{data:e,policy:t.policy}})],1)}))],2)},F=[],_=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.obj.value||"number"===typeof t.obj.value&&0===t.obj.value?n("div",{staticClass:"card-box"},["reason"===t.obj.name?n("div",{staticClass:"reset-label"},[n("span",[t._v(t._s(t.obj.label))])]):n("div",[t._v(t._s(t.obj.label))]),t.obj.slot?t._t("default",[t._v(t._s(t.obj.value))],{card:t.obj.value}):[n("div",{staticClass:"content"},[n("hy-expand",{attrs:{lineHeight:18}},[n("span",{staticClass:"value",class:{fold:t.obj.fold},domProps:{innerHTML:t._s(t.obj.value)}})]),t.obj.tip?n("span",[t._v(t._s(t.obj.tip.label+" "+t.obj.tip.value))]):t._e()],1),void 0!==t.obj.fold?n("div",{staticClass:"btn",on:{click:function(e){t.obj.fold=!t.obj.fold}}},[n("span",[t._v(t._s(t.obj.fold?"展开全部":"向上收起"))]),n("van-icon",{staticClass:"arrow",class:{"expand-arrow":!t.obj.fold},attrs:{name:"arrow-down"}})],1):t._e(),n("span",{ref:"all",staticClass:"no-visible"},[t._v(t._s(t.obj.value))]),n("span",{ref:"single",staticClass:"no-visible"},[t._v(t._s(String(t.obj.value).slice(0,1)))])]],2):t._e()}),I=[],M=(n("caad"),{name:"Card",props:{data:{type:Object,default:function(){}},policy:{type:Object,default:function(){}}},data:function(){return{obj:this.data}},watch:{data:{deep:!0,immediate:!0,handler:function(t){t&&(this.obj=t)}}},mounted:function(){(Boolean(this.obj.value)||"number"===typeof this.obj.value&&0===this.obj.value)&&this.expand()},methods:{expand:function(){var t=this;["workExperience"].includes(this.obj.name)&&this.$nextTick((function(){var e=t.$refs.all.getBoundingClientRect().height,n=t.$refs.single.getBoundingClientRect().height;e/n>3&&t.$set(t.obj,"fold",!0)}))},handleEdit:function(t){this.$refs.RefReasonDialog.onShow(t.value)}}}),$=M,q=(n("246d"),n("2877")),B=Object(q["a"])($,_,I,!1,null,"07dcc192",null),G=B.exports,N={name:"BasicInfo",components:{Card:G},props:{policy:{type:Object,default:function(){}}},data:function(){return{isFold:!1,policyInfo:{},basicInfoList:[],config:[{label:"政策说明",nodeType:"reson"}],content:{label:"自定义部分",slotName:"aaa"}}},computed:{partList:function(){return this.isFold?this.basicInfoList.slice(0,10):this.basicInfoList}},watch:{policy:{deep:!0,immediate:!0,handler:function(t){var e=this;if(x()(t).length){this.policyInfo=t.policyQueryResult;var n=w()(D.basicList);this.policyInfo&&(n.forEach((function(t){t.formatter&&"function"===typeof t.formatter?t.value=t.formatter(e.policyInfo):t.value=e.policyInfo[t.name]})),this.basicInfoList=n.filter((function(t){return Boolean(t.value)||"number"===typeof t.value&&0===t.value})))}}}},methods:{}},R=N,Q=(n("58b2"),Object(q["a"])(R,E,F,!1,null,"4520f946",null)),A=Q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"second-title"},[t._v("政策详情")]),n("hy-tabs",{attrs:{tabList:t.policyInfo,activeIdx:t.activeIndex,offsetLeft:24},on:{tabClick:t.tabClick},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.tab.name))])]}}])}),t._l(t.partList,(function(e,i){return n("div",{key:e.name+i},[n("card",{attrs:{data:e},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.card,(function(e){return n("div",{key:e.name},[n("div",{staticStyle:{"align-items":"center",display:"flex"}},[n("span",{staticStyle:{background:"rgba(4, 133, 255, 1)","border-radius":"8px",height:"16px","margin-right":"8px",width:"4px"}}),n("h4",{staticStyle:{"align-items":"center",color:"rgb(51.51.51)",display:"flex","font-size":"14px","font-weight":"600","line-height":"24px",margin:"0"}},[t._v(" "+t._s(e.name)+" ")])]),t._l(t.subCardConfig,(function(t){return n("card",{key:t.name,attrs:{data:{name:t.name,label:t.label,value:e[t.name]}}})}))],2)}))}}],null,!0)})],1)}))],2)},Y=[],W={name:"DetailPolicy",components:{Card:G},props:{policy:{type:Object,default:function(){}}},data:function(){return{activeIndex:0,isFold:!1,policyInfo:[],policyList:[],detailPolicyList:null,subCardConfig:[{name:"targetTypeStr",label:"类型"},{name:"exFactorDetail",label:"剔除条件"},{name:"dataSours",label:"数据来源"}]}},computed:{partList:function(){return this.isFold?this.detailPolicyList.slice(0,10):this.detailPolicyList}},watch:{policy:{deep:!0,immediate:!0,handler:function(t){var e=this;if(x()(t).length){var n=t.detailPolicy[this.activeIndex]||[],i=t.policyQueryResult.policyMode;n["mode"]=i,n.exFactorSurveyGos&&null!==n.exFactorSurveyGos&&n.exFactorSurveyGos.forEach((function(t){t["exFactorDetail"]="",null!==t.exFactorDetailGos&&t.exFactorDetailGos.forEach((function(e){t["exFactorDetail"]+="".concat(e.name).concat(e.remark,"<br/>").concat(e.desc,"<br/>")}))})),this.policyList=n,this.policyInfo=t.detailPolicy;var o=w()(D.detailPolicyList);o.forEach((function(t){t.formatter&&"function"===typeof t.formatter?t.value=t.formatter(e.policyList):t.value=e.policyList[t.name],t.formatterLabel&&"function"===typeof t.formatterLabel&&(t.label=t.formatterLabel(e.policyList))})),10===i&&(o=o.filter((function(t){return"rejectCondition"!==t.name&&"exFactorDetailGos"!==t.name}))),7===i&&(o=o.filter((function(t){return"condition"!==t.name}))),this.detailPolicyList=o.filter((function(t){return Boolean(t.value)||"number"===typeof t.value&&0===t.value}))}}}},created:function(){},methods:{tabClick:function(t){this.activeIndex=t,this.$el.querySelector(".tab-wrap").scrollTo({left:this.$el.querySelector("#Tab".concat(t)).offsetLeft-24,behavior:"smooth"})},computedDetailPolicyList:function(){}}},z=W,J=(n("510d"),Object(q["a"])(z,H,Y,!1,null,"ec3ba3f0",null)),U=J.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"second-title"},[t._v("考核和报价")]),t._l(t.partList,(function(t,e){return n("div",{key:t.name+e},[n("card",{attrs:{data:t}})],1)}))],2)},V=[],X={name:"ExamineQuote",components:{Card:G},props:{policy:{type:Object,default:function(){}}},data:function(){return{isFold:!0,policyInfo:{},examineQuotList:[]}},computed:{partList:function(){return this.isFold?this.examineQuotList.slice(0,10):this.examineQuotList}},watch:{policy:{deep:!0,immediate:!0,handler:function(t){var e=this;if(x()(t).length){this.policyInfo=t.examinQuote;var n=w()(D.examineQuotList);n.forEach((function(t){t.formatter&&"function"===typeof t.formatter?t.value=t.formatter(e.policyInfo):t.value=e.policyInfo[t.name]})),this.examineQuotList=n.filter((function(t){return Boolean(t.value)||"number"===typeof t.value&&0===t.value}))}}}}},Z=X,tt=(n("9533"),Object(q["a"])(Z,K,V,!1,null,"0045aef0",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"second-title"},[t._v("基数明细")]),n("hy-tabs",{attrs:{activeIdx:t.activeIndex,offsetLeft:24,tabList:t.conditionList},on:{tabClick:t.tabClick},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.tab.name+"-"+e.tab.categoryName))])]}}])}),t._l(t.partList,(function(t,e){return n("div",{key:t.name+e},[n("card",{attrs:{data:t}})],1)})),n("div",{staticClass:"table-wrap"},[n("hy-table",{staticClass:"base-table",attrs:{"table-data":t.tableData,columns:t.columns,scrollWidth:"100%",border:"","cell-span-option":t.cellSpanOption,theme:"light","border-y":!0,"max-height":"400",isShowIndex:!1}})],1),n("div",{staticClass:"pagination-wrap"},[t.pageShow?n("hy-pagination",{attrs:{page:t.pagination.currentPage,"page-size":t.pagination.pageSize,total:t.pagination.total,pagingCount:1},on:{fetchData:t.fetchData}}):t._e()],1)],2)},it=[],ot=n("c6e7"),at={name:"ConditionDetail",components:{Card:G},mixins:[ot["a"]],data:function(){return{tableData:[],activeIndex:0,isFold:!1,pageShow:!0,columns:[{field:"siteName",key:"siteName",title:"网点名称",align:"center",width:90},{field:"siteCode",key:"siteCode",title:"网点代码",align:"center",width:90},{field:"itemIndexName",key:"itemIndexName",title:"基数段",align:"center",width:100},{field:"custName",key:"custName",title:"客户名称",align:"center",width:90},{field:"custCode",key:"custCode",title:"客户编码",align:"center",width:90},{field:"month1",key:"month1",title:"1月",align:"center",width:90},{field:"month2",key:"month2",title:"2月",align:"center",width:90},{field:"month3",key:"month3",title:"3月",align:"center",width:90},{field:"month4",key:"month4",title:"4月",align:"center",width:90},{field:"month5",key:"month5",title:"5月",align:"center",width:90},{field:"month6",key:"month6",title:"6月",align:"center",width:90},{field:"month7",key:"month7",title:"7月",align:"center",width:90},{field:"month8",key:"month8",title:"8月",align:"center",width:90},{field:"month9",key:"month9",title:"9月",align:"center",width:90},{field:"month10",key:"month10",title:"10月",align:"center",width:90},{field:"month11",key:"month11",title:"11月",align:"center",width:90},{field:"month12",key:"month12",title:"12月",align:"center",width:90}],conditionList:[],condition:{},policy:{},cellSpanOption:{bodyCellSpan:this.objectSpanMethod},spanArr:[]}},computed:{conditionConfigList:function(){var t=this;if(!this.condition)return[];var e=w()(D.conditionConfigList);return e.forEach((function(e){e.formatter&&"function"===typeof e.formatter?e.value=e.formatter(t.condition):e.value=t.condition[e.name]})),e.filter((function(t){return Boolean(t.value)||"number"===typeof t.value&&0===t.value}))},partList:function(){return this.isFold?this.conditionConfigList.slice(0,10):this.conditionConfigList}},watch:{tableData:function(t){this.tableData=t},policy:{deep:!0,immediate:!0,handler:function(t){x()(t).length&&(this.conditionList=this.policy.policyWeightCategoryGos)}},conditionList:{deep:!0,immediate:!0,handler:function(t){t&&null!==t&&(this.condition=t[this.activeIndex])}}},mounted:function(){this.query()},methods:{objectSpanMethod:function(t){t.row;var e=t.column,n=t.rowIndex;t.columnIndex;if("siteName"===e.field||"order"===e.field){var i=this.spanArr[n],o=i>0?1:0;return{rowspan:i,colspan:o}}},onSearch:function(){var t,e=this.policy.policyWeightCategoryGos,n=this.activeIndex;if(e.length){var i=e[n];t={currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize,item:i.category,weightDestIndex:i.weightDestIndex,workflowNoMain:this.$route.query.applyNo}}this.queryDetail(t)},tabClick:function(t){var e=this;this.pageShow=!1,this.activeIndex=t,this.pagination.currentPage=1,this.$nextTick((function(){e.pageShow=!0})),this.query()},query:function(){var t;return v.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(Object(j["w"])({workflowNoMain:this.$route.query.applyNo}));case 2:t=e.sent,this.policy=t,this.policy!=={}&&this.onSearch();case 5:case"end":return e.stop()}}),null,this,null,m.a)},queryDetail:function(t){var e,n,i;return v.a.async((function(o){while(1)switch(o.prev=o.next){case 0:if(t){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,v.a.awrap(Object(j["x"])(t));case 4:if(e=o.sent,!e){o.next=27;break}this.pagination.total=e.totalRow,n="",o.t0=t.item,o.next=0===o.t0?11:1===o.t0?13:2===o.t0?15:3===o.t0?17:4===o.t0?19:5===o.t0?21:23;break;case 11:return n="中转费基数",o.abrupt("break",24);case 13:return n="结算重量基数",o.abrupt("break",24);case 15:return n="网点票数基数",o.abrupt("break",24);case 17:return n="客户票数基数",o.abrupt("break",24);case 19:return n="网点均重基数",o.abrupt("break",24);case 21:return n="客户均重基数",o.abrupt("break",24);case 23:n="业务量基数";case 24:i=this.importOrderNumber(e.list),i.forEach((function(t){t.itemIndexName=n+t.itemIndex})),this.getCombineInfo(i);case 27:case"end":return o.stop()}}),null,this,null,m.a)},importOrderNumber:function(t){var e=this.getTwoDimension(t,"siteName");e.forEach((function(t,e){t.forEach((function(t){t.order=e+1}))}));var n=[];return e.forEach((function(t){t.forEach((function(t){n.push(t)}))})),n},getTwoDimension:function(t,e){var n=[],i=-1,o="";return t.forEach((function(t){t[e]!==o?(i++,n[i]=[t],o=t[e]):n[i].push(t)})),n},getCombineInfo:function(t){this.spanArr=this.getSpanPosition(t,"siteName"),this.tableData=t},getSpanPosition:function(t,e){for(var n=0,i=[],o=0;o<t.length;o++)if(0===o)i.push(1);else{var a=t[o][e],r=t[o-1][e];a===r?(i[n]+=1,i.push(0)):(i.push(1),n=o)}return i}}},rt=at,ct=(n("edfc"),Object(q["a"])(rt,nt,it,!1,null,"5120dc8c",null)),st=ct.exports;function lt(t,e){var n=x()(t);if(p.a){var i=p()(t);e&&(i=i.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,i)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){Object(S["a"])(t,e,n[e])})):u.a?s()(t,u()(n)):lt(Object(n)).forEach((function(e){r()(t,e,f()(n,e))}))}return t}var dt={name:"interchangeFeePolicy",components:{BasicInfo:A,DetailPolicy:U,ExamineQuote:et,ConditionDetail:st},data:function(){return{active:0,activeSecond:0,tabSecondList:D.tabSecondList,isFixed:!1,applyHeight:"1500",entryList:[],firstScrollTop:0,tabClickLock:!1,timer:null,isFold:!1,policy:{},weightDestIndex:1}},computed:ut(ut({},Object(k["c"])({getApprovalInfo:"getApprovalInfo"})),{},{workflowNoMain:function(){return this.$route.query.applyNo},approvalInfoData:function(){return this.getApprovalInfo&&x()(this.getApprovalInfo).length?this.getApprovalInfo["data"]:{}}}),watch:{entryList:{handler:function(t){var e=w()(t);e.sort((function(t,e){return e.intersectionRatio-t.intersectionRatio})),e.length!==this.tabSecondList.length||this.tabClickLock||(this.activeSecond=e[0].index,this.$el.querySelector(".tab-box-initial-second").scrollTo({left:this.$el.querySelector("#secondTab".concat(this.activeSecond)).offsetLeft-12,behavior:"smooth"}))},deep:!0,immediate:!0},isFixed:function(t){var e=this;if(t&&this.activeSecond>0){for(var n=[],i=this.$el.querySelector(".van-sticky").getBoundingClientRect().height,o=this.$el.querySelector(".top-header").getBoundingClientRect().height,a=this.$el.querySelector(".apply-info").scrollTop,r=0;r<this.tabSecondList.length;r++)n.push(this.$el.querySelector("#apply".concat(r)).offsetTop-i);this.$nextTick((function(){e.$el.querySelector(".hy-content").scrollTop=a+o+10}))}}},created:function(){this.initPolicy()},mounted:function(){var t=this;P.a.polyfill(),setTimeout((function(){t.scrollFunc(t.$el.querySelector("#apply0"),0),t.tabSecondList.forEach((function(e,n){0!==n&&t.scrollFunc(t.$el.querySelector("#apply"+n),n)}))}),1800)},methods:{onSubmit:function(t){this.policy.policyQueryResult.reason=t},initPolicy:function(){var t,e,n,i,o,a,r,c;return v.a.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,v.a.awrap(Object(j["B"])({workflowNoMain:this.workflowNoMain}));case 2:t=s.sent,t&&(t.policyDetailWeightDestGOS=t.policyDetailWeightDestGOS||[],t.exFactorMainResultGos=t.exFactorMainResultGos||[],t.exFactorBusDetailGos=t.exFactorBusDetailGos||{},e=t.policyDetailWeightDestGOS,n=t.exFactorMainResultGos,i=t.exFactorBusDetailGos,o=e.map((function(e,o){return ut(ut(ut({},e),n[o]),{},{exFactorBusDetailGos:i,policyName:t.policyQueryResult["policyName"],index:o+1})})),a=ut({},t.policyQueryResult),r=t.targetString,c=[],t.assessmentStrs=t.assessmentStrs||[],t.assessmentStrs.forEach((function(t){var e={};e["quoteDetail"]=t,c.push(e)})),this.$set(this.policy,"detailPolicy",o),this.$set(this.policy,"examinQuote",c),this.$set(this.policy,"policyQueryResult",a),this.$set(this.policy.policyQueryResult,"targetString",r));case 4:case"end":return s.stop()}}),null,this,null,m.a)},tabClick:function(t){var e=this;this.isFixed&&0===this.active&&t>0&&(this.firstScrollTop=this.$el.querySelector(".hy-content").scrollTop),this.active=t,this.$nextTick((function(){e.isFixed&&(e.$el.querySelector(".hy-content").scrollTop=t>0?e.$el.querySelector(".process-tab-box").getBoundingClientRect().height+e.$el.querySelector(".top-header").getBoundingClientRect().height:e.firstScrollTop)}))},secondTabClick:function(t){var e=this;this.tabClickLock=!0,this.activeSecond=t,this.timer&&clearTimeout(this.timer);var n=this.$el.querySelector(".process-tab-box").getBoundingClientRect().height;if(this.isFixed){var i=this.$el.querySelector("#apply".concat(t)).offsetTop,o=i-n+12;this.$el.querySelector(".hy-content").scrollTo({top:o,behavior:"smooth"})}else this.applyHeight=document.body.offsetHeight+"px",this.$nextTick((function(){var n=[];if(t>0)for(var i=0;i<t;i++){var o="#apply".concat(i);n.push(e.$el.querySelector(o).getBoundingClientRect().height+10)}var a=n.reduce((function(t,e){return t+e}),0);e.$el.querySelector(".apply-info").scrollTo({top:a,behavior:"smooth"})}));this.timer=setTimeout((function(){e.tabClickLock=!1}),1e3)},stickyScroll:function(t){this.isFixed=t.isFixed},toTop:function(){this.secondTabClick(0)},scrollFunc:function(t,e){var n=this;if(IntersectionObserver){var i=new IntersectionObserver((function(t){var i={index:e,intersectionRatio:t[0].intersectionRatio};n.$set(n.entryList,e,i)}),{threshold:[0,.25,.5,.75,1]});i.observe(t)}}}},ft=dt,ht=(n("c293"),Object(q["a"])(ft,i,o,!1,null,"945c582a",null));e["default"]=ht.exports},c293:function(t,e,n){"use strict";var i=n("d7e4"),o=n.n(i);o.a},d7e4:function(t,e,n){},edfc:function(t,e,n){"use strict";var i=n("9ae1"),o=n.n(i);o.a}}]);