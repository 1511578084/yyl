(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cdea742"],{"0807":function(t,n,e){"use strict";var a=e("7880"),o=e.n(a);o.a},"267a":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"workbench"},[e("div",{staticClass:"main"},[e("div",{staticClass:"header"},[e("div",{staticClass:"layer1"},[e("span",{staticClass:"txt1"},[t._v("欢迎你，"+t._s(t.userInfo.userName||""))])]),e("span",{staticClass:"txt2"},[t._v(" "+t._s(t.loginInfo.grantedAll?"全国":(t.loginInfo.manageAreaResultList?t.loginInfo.manageAreaResultList[0].name:"")||(t.loginInfo.manageGridResultList?t.loginInfo.manageGridResultList[0].name:""))+" | ")]),e("span",{staticClass:"txt3"},[t._v("最近驻场："+t._s(t.homeInfo.residentSiteName||"无"))])]),e("div",{staticClass:"header_top"},[e("div",{staticClass:"header_top_title"},[t._v("未完成任务逾期统计")]),e("div",{},[e("div",{staticClass:"header_top_left header_top_one",on:{click:function(n){return t.more(2)}}},[e("span",{staticClass:"header_top_words"},[t._v("即将逾期")]),e("span",{staticClass:"header_top_num"},[t._v(t._s(t.homeInfo.upcomingOverdue||0))])]),e("div",{staticClass:"header_top_right header_top_one",on:{click:function(n){return t.more(3)}}},[e("span",{staticClass:"header_top_words"},[t._v("已逾期")]),e("span",{staticClass:"header_top_num"},[t._v(t._s(t.homeInfo.overdue||0))])])])]),e("div",{staticClass:"header_top",staticStyle:{height:"190px"}},[e("div",{staticClass:"header_top_title"},[t._v("任务状态统计")]),e("div",{staticClass:"myChart"},[t.homeInfo.notStart||t.homeInfo.doing||t.homeInfo.done?t._e():e("p",{staticClass:"van-empty__description"},[t._v(" 暂无数据 ")]),e("canvas",{attrs:{id:"myChart",width:"300",height:"260"}})])]),e("div",{staticClass:"header_top",staticStyle:{height:"auto"}},[e("div",{staticClass:"header_top_title"},[t._v(" 未完成任务进度TOP10 "),e("span",{staticClass:"more",on:{click:function(n){return t.more(0)}}},[t._v("更多")])]),t.homeInfo.undoneTopList&&t.homeInfo.undoneTopList.length>0?e("div",{staticClass:"list"},t._l(t.homeInfo.undoneTopList||[],(function(n,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:a<10,expression:"index < 10"}],key:a,staticClass:"item",on:{click:function(e){return t.goDetail(n)}}},[e("div",{staticClass:"item_left"},[t._v(" "+t._s(n.jobName||"")+" ")]),e("div",{staticClass:"item_right"},[e("div",{staticClass:"content_item_progress"},[e("div",{staticClass:"content_item_progress_s",style:"width:"+n.jobProgress+"%"})]),t._v(" "+t._s(n.jobProgress)+"% ")])])})),0):e("van-empty",{staticClass:"custom-image",attrs:{image:t.emptyImg,description:"暂无数据"}})],1)])])},o=[],r=(e("4de4"),e("4160"),e("b0c0"),e("d3b7"),e("159b"),e("85f2")),s=e.n(r),i=e("d847"),c=e.n(i),u=e("5e83"),d=e.n(u),p=e("268f"),f=e.n(p),l=e("e265"),h=e.n(l),m=e("a4bb"),v=e.n(m),_=e("795b"),g=e.n(_),b=e("967e"),O=e.n(b),C=(e("96cf"),e("2fa7")),P=e("e004"),T=e.n(P),k=e("e350"),j=e("2f62"),I=e("1d12"),y=e("f9d0"),S=e("8686"),w=e.n(S);function E(t,n){var e=v()(t);if(h.a){var a=h()(t);n&&(a=a.filter((function(n){return f()(t,n).enumerable}))),e.push.apply(e,a)}return e}function M(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?E(Object(e),!0).forEach((function(n){Object(C["a"])(t,n,e[n])})):d.a?c()(t,d()(e)):E(Object(e)).forEach((function(n){s()(t,n,f()(e,n))}))}return t}var x={name:"workbench",components:{},data:function(){return{active:"BusinessCenter",homeInfo:{},loginInfo:{},emptyImg:w.a}},computed:M({},Object(j["d"])("user",["userInfo"])),watch:{active:{handler:function(t,n){},deep:!0}},created:function(){this.$baidu("慧眼首页")},mounted:function(){this.load()},methods:{goDetail:function(t){this.$router.push({path:"taskDetail",query:{appJobUserViewId:t.appJobUserViewId,jobCode:t.jobCode,type:1}})},checkPerm:k["a"],load:function(){var t;return O.a.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O.a.awrap(Object(y["n"])());case 2:return this.homeInfo=n.sent,t=this,this.$nextTick((function(){t.drawChart()})),n.next=7,O.a.awrap(Object(I["c"])());case 7:this.loginInfo=n.sent;case 8:case"end":return n.stop()}}),null,this,null,g.a)},more:function(t){this.$router.push({path:"home",query:{tab:"BusinessCenter",overdueStatus:t,sonTab:"task_wait"}})},drawChart:function(){var t=[{name:"待处理",percent:this.homeInfo.notStart,a:"1",count:this.homeInfo.notStart},{name:"进行中",percent:this.homeInfo.doing,a:"1",count:this.homeInfo.doing},{name:"已完成",percent:this.homeInfo.done,a:"1",count:this.homeInfo.done}],n={};t.forEach((function(t){n[t.name]=t.count}));var e=new T.a.Chart({id:"myChart",pixelRatio:window.devicePixelRatio,padding:[0,"auto"],height:135});e.source(t,{percent:{formatter:function(t){return t+"%"}}}),e.tooltip(!1),e.legend({position:"right",itemFormatter:function(t){return t+"    "+n[t]}}),e.coord("polar",{transposed:!0,innerRadius:.6,radius:.9}),e.axis(!1),e.interval().position("a*percent").color("name",["#0CAAAB","#4982F6","#F5A623"]).adjust("stack"),e.render()}}},L=x,A=(e("0807"),e("2877")),R=Object(A["a"])(L,a,o,!1,null,"451e9026",null);n["default"]=R.exports},7880:function(t,n,e){},8686:function(t,n,e){t.exports=e.p+"static/img/empty_default.bf54608a.png"},e350:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));e("4de4"),e("caad"),e("45fc"),e("2532");var a=e("4360"),o=function(t,n){if(n&&n instanceof Array&&n.length>0){if(!t)return!1;var e=n.some((function(n){return t.includes(n)}));return!!e}return!1},r=function(t){var n=a["a"].state.user.userInfo;return!(!n||!n.permissions)&&o(n.permissions,t)}},f9d0:function(t,n,e){"use strict";e.d(n,"n",(function(){return r})),e.d(n,"m",(function(){return s})),e.d(n,"k",(function(){return i})),e.d(n,"e",(function(){return c})),e.d(n,"c",(function(){return u})),e.d(n,"b",(function(){return d})),e.d(n,"a",(function(){return p})),e.d(n,"f",(function(){return f})),e.d(n,"j",(function(){return l})),e.d(n,"l",(function(){return h})),e.d(n,"h",(function(){return m})),e.d(n,"d",(function(){return v})),e.d(n,"g",(function(){return _})),e.d(n,"i",(function(){return g})),e.d(n,"o",(function(){return b})),e.d(n,"p",(function(){return O})),e.d(n,"q",(function(){return C}));var a=e("51be"),o=e("b775");function r(t){return Object(o["a"])({url:"".concat(a["a"],"/app/queryHomePageTaskInfo"),method:"POST",data:t,isErrorMsgPop:!0})}function s(t){return Object(o["a"])({url:"".concat(a["a"],"/app/myTodoTaskList"),method:"POST",data:t,isErrorMsgPop:!0})}function i(t){return Object(o["a"])({url:"".concat(a["a"],"/app/myFinishedTaskList"),method:"POST",data:t,isErrorMsgPop:!0})}function c(t){return Object(o["a"])({url:"".concat(a["a"],"/app/copyToMeTaskList"),method:"POST",data:t,isErrorMsgPop:!0})}function u(t){return Object(o["a"])({url:"".concat(a["a"],"/app/myTodoTaskDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function d(t){return Object(o["a"])({url:"".concat(a["a"],"/app/myFinishedTaskDetail"),method:"POST",data:t,isErrorMsgPop:!0})}function p(t){return Object(o["a"])({url:"".concat(a["a"],"/app/copyToMeDetail "),method:"POST",data:t,isErrorMsgPop:!0})}function f(t){return Object(o["a"])({url:"".concat(a["a"],"/app/copyToMeTaskSite"),method:"POST",data:t,isErrorMsgPop:!0})}function l(t){return Object(o["a"])({url:"".concat(a["a"],"/app/myFinishedTaskSite"),method:"POST",data:t,isErrorMsgPop:!0})}function h(t){return Object(o["a"])({url:"".concat(a["a"],"/app/myTodoTaskSite"),method:"POST",data:t,isErrorMsgPop:!0})}function m(t){return Object(o["a"])({url:"".concat(a["a"],"/pc/queryTaskFeedback"),method:"POST",data:t,isErrorMsgPop:!0})}function v(t){return Object(o["a"])({url:"".concat(a["a"],"/pc/addReply"),method:"POST",data:t,isErrorMsgPop:!0})}function _(t){return Object(o["a"])({url:"".concat(a["a"],"/pc/task/completeJobSite/error "),method:"POST",data:t,isErrorMsgPop:!0})}function g(t){return Object(o["a"])({url:"".concat(a["a"],"/pc/task/jobSite/info"),method:"POST",data:t,isErrorMsgPop:!0})}function b(t){return Object(o["a"])({url:"".concat(a["a"],"/pc/task/all "),method:"POST",data:t,isErrorMsgPop:!0})}function O(t){return Object(o["a"])({url:"".concat(a["a"],"/pc/task/check"),method:"POST",data:t,isErrorMsgPop:!0})}function C(t){return Object(o["a"])({url:"".concat(a["a"],"/mobile/task/transfer/1"),method:"POST",data:t,isErrorMsgPop:!0})}}}]);